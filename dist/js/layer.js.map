{"version":3,"file":"layer.js","sources":["../../src/js/constants/classes.js","../../src/js/constants/datakey.js","../../src/js/constants/defaults.js","../../src/js/constants/html.js","../../src/js/constants/map.js","../../src/js/constants/index.js","../../src/js/util/index.js","../../src/js/shared.js","../../src/js/class.js","../../node_modules/is-what/dist/getType.js","../../node_modules/is-what/dist/isArray.js","../../node_modules/is-what/dist/isPlainObject.js","../../node_modules/is-what/dist/isString.js","../../node_modules/is-what/dist/isFunction.js","../../node_modules/is-what/dist/isNumber.js","../../node_modules/is-what/dist/isObject.js","../../src/js/HTMLGenerator.js","../../src/js/TipsLocation.js","../../src/js/EventBinder.js","../../src/js/container.js","../../src/js/Closer.js","../../src/js/layer.js"],"sourcesContent":["export default {\r\n  // 表情\r\n  faceTips: \"layui-icon-tips\",\r\n  faceSuccess: \"layui-icon-success\",\r\n  faceError: \"layui-icon-error\",\r\n  faceQuestion: \"layui-icon-question\",\r\n  faceLock: \"layui-icon-lock\",\r\n  faceCry: \"layui-icon-face-cry\",\r\n  faceSmile: \"layui-icon-face-smile\",\r\n\r\n  layuiLayer: \"layui-layer\",\r\n  // 标题\r\n  layerTitle: \"layui-layer-title\",\r\n  layerMain: \"layui-layer-main\",\r\n  layerIFrame: \"layui-layer-iframe\",\r\n  layerContent: \"layui-layer-content\",\r\n  layerBtn: \"layui-layer-btn\",\r\n  layerClose: \"layui-layer-close\",\r\n\r\n  //动画\r\n  layerAnim: \"layer-anim\",\r\n  layerAnim0: \"layer-anim-00\",\r\n  layerAnim1: \"layer-anim-01\",\r\n  layerAnim2: \"layer-anim-02\",\r\n  layerAnim3: \"layer-anim-03\",\r\n  layerAnim4: \"layer-anim-04\",\r\n  layerAnim5: \"layer-anim-05\",\r\n  layerAnim6: \"layer-anim-06\",\r\n  animSlideDown: \"layer-anim-slide-down\",\r\n  animSlideLeft: \"layer-anim-slide-left\",\r\n  animSlideUp: \"layer-anim-slide-up\",\r\n  animSlideRight: \"layer-anim-slide-right\",\r\n\r\n  // 退出动画\r\n  animSlideDownOut: \"layer-anim-slide-down-out\",\r\n  animSlideLeftOut: \"layer-anim-slide-left-out\",\r\n  animSlideUpOut: \"layer-anim-slide-up-out\",\r\n  animSlideRightOut: \"layer-anim-slide-right-out\",\r\n\r\n  // 关闭动画\r\n  animClose: \"layer-anim-close\",\r\n\r\n  shade: \"layui-layer-shade\",\r\n  move: \"layui-layer-move\",\r\n\r\n  layerWrap: \"layui-layer-wrap\",\r\n\r\n  // 边框\r\n  layerBorder: \"layui-layer-border\",\r\n  // 边距\r\n  layerPadding: \"layui-layer-padding\",\r\n  layerLoading: \"layui-layer-loading\",\r\n\r\n  // layui的动画类\r\n  layuiAnim: \"layui-anim\",\r\n  layuiAnimRotate: \"layui-anim-rotate\",\r\n  layuiAnimLoop: \"layui-anim-loop\",\r\n\r\n  layerTipsG: \"layui-layer-TipsG\",\r\n  layerTipsB: \"layui-layer-TipsB\",\r\n  layerTipsT: \"layui-layer-TipsT\",\r\n  layerTipsL: \"layui-layer-TipsL\",\r\n  layerTipsR: \"layui-layer-TipsR\",\r\n\r\n  //调整尺寸的类\r\n  layerResize: \"layui-layer-resize\",\r\n\r\n  // 加载图标\r\n  iconLoading: \"layui-icon-loading\",\r\n  iconLoading1: \"layui-icon-loading-1\",\r\n  iconLoading2: \"layui-icon-loading-2\",\r\n\r\n  layerMin: \"layui-layer-min\",\r\n  layerMax: \"layui-layer-max\",\r\n  layerMaxMin: \"layui-layer-maxmin\",\r\n};\r\n","export default {\r\n  SHADE_KEY: \"LAYUI-LAYER-SHADE-KEY\",\r\n  RECORD_HEIGHT_KEY: \"LAYUI_LAYER_CONTENT_RECORD_HEIGHT\",\r\n  // 状态\r\n  MAX_MIN_STATUS: \"maxminStatus\",\r\n};\r\n","import Classes from \"./classes\";\r\n\r\n// 一些默认参数\r\nexport default {\r\n  /*  0 dialog 信息框（默认），同时只能存在一个层\r\n    1 page 页面层，可同时存在多个层\r\n    2 iframe 内联框架层，可同时存在多个层\r\n    3 loading 加载层，同时只能存在一个层\r\n    4 tips 贴士层，可配置同时存在多个层 */\r\n  type: 0,\r\n  // 弹层的遮罩。 支持以下写法 number|array 0:不显示遮罩层\r\n  shade: 0.3,\r\n  // 弹层是否固定定位，即始终显示在页面可视区域\r\n  fixed: true,\r\n  // 绑定弹层的拖拽元素。 默认为触发弹层的标题栏进行拖拽。也可以设置 move: false 禁止拖拽\r\n  move: `.${Classes.layerTitle}`,\r\n  //string、array、boolean，如果是false，则不显示标题栏\r\n  title: \"信息\",\r\n  // 弹层内容 字符串 jq对象 数组\r\n  // content: null,\r\n  // 弹层的偏移坐标\r\n  offset: \"auto\",\r\n  // 设置弹层的宽高  array string  area: '520px' 宽度固定，高度自适应  area: 'auto' 宽度和高度均自适应\r\n  area: \"auto\",\r\n  // 是否开启标题栏的关闭图标，或设置关闭图标风格\r\n  closeBtn: 1,\r\n  // 提示图标。 信息框和加载层的私有参数\r\n  icon: -1,\r\n  // 弹层自动关闭所需的毫秒数 0 表示不自动关闭\r\n  time: 0,\r\n  // 弹层的初始层叠顺序值\r\n  zIndex: 19891014,\r\n  // number 弹层的最大宽度。当 area 属性值为默认的 auto' 时有效\r\n  maxWidth: 360,\r\n  // number 弹层的最大高度。当 area 属设置高度自适应时有效\r\n  // maxHeight: null,\r\n  // 弹层的出场动画\r\n  anim: 0,\r\n  // 是否开启弹层关闭时的动画。\r\n  isOutAnim: true,\r\n  // 最小化堆叠\r\n  minStack: true,\r\n  //\r\n  moveType: 1,\r\n  // 是否允许拖拽弹层右下角拉伸尺寸。 该属性对加载层和 tips 层无效。\r\n  resize: true,\r\n  // 打开弹层时，是否允许浏览器出现滚动条。\r\n  scrollbar: true,\r\n  // 设置 tips 层的吸附位置和背景色，tips 层的私有属性\r\n  tips: 2,\r\n  // 关闭弹层时，是否将弹层设置为隐藏状态（而非移除），当再次打开，直接显示原来的弹层。 若设为 true，则必须同时设置 id 属性方可有效。\r\n  // hideOnClose: false,\r\n  // 是否允许同时存在多个 tips 层，即不销毁上一个 tips。\r\n  // tipsMore: false,\r\n};\r\n","export default {\r\n  iframe: `<iframe scrolling=\"%s\" allowtransparency=\"true\" id=\"%s\" name=\"%s\" onload=\"this.className='';\" class=\"layui-layer-load\" frameborder=\"0\" src=\"%s\"></iframe>`,\r\n\r\n  // 遮罩层\r\n  shade: `<div class=\"%s\" id=\"%s\" times=\"%s\" style=\"z-index: %s;\"></div>`,\r\n  // 主体包裹层\r\n  mainWrap: [\r\n    `<div class=\"%s %s %s %s\" \r\n    id=\"%s\" \r\n    type=\"%s\" \r\n    times=\"%s\" \r\n    showtime=\"%s\" \r\n    contype=\"%s\" \r\n    style=\"z-index:%s;width:%s;height:%s;position:%s;\">`,\r\n    \"</div>\",\r\n  ],\r\n  // title区域\r\n  title: `<div class=\"layui-layer-title\" style=\"%s\">%s</div>`,\r\n  // 内容区\r\n  content: [`<div id=\"%s\" class=\"layui-layer-content %s %s\">`, `</div>`],\r\n\r\n  //\r\n  tipsG: `<i class=\"layui-layer-TipsG\"></i>`,\r\n  // 表情图标\r\n  faceIcon: `<i class=\"layui-layer-face layui-icon %s\"></i>`,\r\n  // 信息框加载图标\r\n  dialogLoadIcon: `<i class=\"layui-layer-face layui-icon layui-icon-loading %s\"></i>`,\r\n  // 加载图标\r\n  loadIcon: `<i class=\"layui-layer-loading-icon layui-icon %s %s\"></i>`,\r\n  // 右上角按钮\r\n  setWin: [`<div class=\"layui-layer-setwin\">`, `</div>`],\r\n  //最小化按钮\r\n  minBtn: `<span class=\"layui-layer-min\"></span>`,\r\n  maxBtn: `<span class=\"layui-layer-max\"></span>`,\r\n  // 关闭按钮\r\n  closeBtn: `<span class=\"layui-icon layui-icon-close %s %s\"></span>`,\r\n  // 底部按钮区域\r\n  btnWrap: [`<div class=\"layui-layer-btn %s\">`, `</div>`],\r\n  // 底部单个按钮\r\n  btn: `<a class=\"layui-layer-btn%s\">%s</a>`,\r\n  // 可拖动的元素\r\n  resize: `<span class=\"layui-layer-resize\"></span>`,\r\n  // 拖拽元素\r\n  move:`<div class=\"%s\" id=\"%s\"></div>`\r\n};\r\n","/**\r\n * 一些不会变的表映射数据集合\r\n */\r\n\r\n// 弹出层类型\r\nconst TYPE = {\r\n  DIALOG: 0,\r\n  PAGE: 1,\r\n  IFRAME: 2,\r\n  LOADING: 3,\r\n  TIPS: 4,\r\n};\r\n\r\n// 弹出层对应的名称\r\nconst TYPE_NAME = {\r\n  [TYPE.DIALOG]: \"dialog\",\r\n  [TYPE.PAGE]: \"page\",\r\n  [TYPE.IFRAME]: \"iframe\",\r\n  [TYPE.LOADING]: \"loading\",\r\n  [TYPE.TIPS]: \"tips\",\r\n};\r\n\r\n// 表情\r\nconst FACE = {\r\n  TIPS: 0,\r\n  SUCCESS: 1,\r\n  ERROR: 2,\r\n  QUESTION: 3,\r\n  LOCK: 4,\r\n  CRY: 5,\r\n  SMILE: 6,\r\n  LOADING: 16,\r\n  NONE: -1,\r\n};\r\n\r\n// load层的图标\r\nconst LOADING_ICON = {\r\n  BALL_SPIN: 0,\r\n  BALL_CLIP_ROTATE_GRAY: 1,\r\n  BALL_CLIP_ROTATE_BLUE: 2,\r\n};\r\n\r\n// 提示层的方位\r\nconst TIPS_DIRECTION = {\r\n  TOP: 1,\r\n  RIGHT: 2,\r\n  BOTTOM: 3,\r\n  LEFT: 4,\r\n};\r\n\r\nexport default {\r\n  TYPE,\r\n  TYPE_NAME,\r\n  FACE,\r\n  LOADING_ICON,\r\n  TIPS_DIRECTION,\r\n  FACE,\r\n};\r\n","import Classes from \"./classes\";\r\nimport DataKey from \"./datakey\";\r\nimport Defaults from \"./defaults\";\r\nimport Html from \"./html\";\r\nimport Map from \"./map\";\r\n\r\nconst VERSION = \"0.0.1\";\r\n\r\nexport default {\r\n  CLASSES: Classes,\r\n  DATAKEY: DataKey,\r\n  DEFAULTS: Defaults,\r\n  HTML: Html,\r\n  VERSION,\r\n  MAP: Map,\r\n};\r\n// 再提一层,方便使用，不然太长了\r\nexport { Map as MAP };\r\n","import $ from \"jquery\";\r\nimport Constants, { MAP } from \"../constants/index\";\r\n\r\nexport default {\r\n  getLayeroByIndex(index) {\r\n    return $(`#${Constants.CLASSES.layuiLayer}${index}`);\r\n  },\r\n\r\n  getShadeoByIndex(index) {\r\n    return $(`#${Constants.CLASSES.shade}${index}`);\r\n  },\r\n\r\n  // 获取节点的 style 属性值\r\n  getStyle(node, name) {\r\n    let style = node.currentStyle\r\n      ? node.currentStyle\r\n      : window.getComputedStyle(node, null);\r\n    return style[style.getPropertyValue ? \"getPropertyValue\" : \"getAttribute\"](\r\n      name\r\n    );\r\n  },\r\n\r\n  // for ie6 恢复 select\r\n  reselect() {\r\n    $.each($(\"select\"), function (index, value) {\r\n      let sthis = $(this);\r\n      if (!sthis.parents(`.${Constants.CLASSES.layuiLayer}`)[0]) {\r\n        sthis.attr(\"layer\") == 1 &&\r\n          $(`.${Constants.CLASSES.layuiLayer}`).length < 1 &&\r\n          sthis.removeAttr(\"layer\").show();\r\n      }\r\n      sthis = null;\r\n    });\r\n  },\r\n  // 记录宽高坐标，用于还原\r\n  record(layero) {\r\n    if (!layero[0]) return window.console && console.error(\"index error\");\r\n    let type = layero.attr(\"type\");\r\n    let contentElem = layero.find(\".layui-layer-content\");\r\n\r\n    let contentRecordHeightElem =\r\n      type === MAP.TYPE_NAME[MAP.TYPE.IFRAME]\r\n        ? contentElem.children(\"iframe\")\r\n        : contentElem;\r\n\r\n    let area = [\r\n      layero[0].style.width || this.getStyle(layero[0], \"width\"),\r\n      layero[0].style.height || this.getStyle(layero[0], \"height\"),\r\n      layero.position().top,\r\n      layero.position().left + parseFloat(layero.css(\"margin-left\")),\r\n    ];\r\n    layero.find(\".layui-layer-max\").addClass(\"layui-layer-maxmin\");\r\n    layero.attr({ area: area });\r\n    contentElem.data(\r\n      Constants.DATAKEY.RECORD_HEIGHT_KEY,\r\n      this.getStyle(contentRecordHeightElem[0], \"height\")\r\n    );\r\n  },\r\n  // 设置页面滚动条\r\n  setScrollbar(index) {\r\n    $(\"html\").css(\"overflow\", \"hidden\").attr(\"layer-full\", index);\r\n  },\r\n  // 恢复页面滚动条\r\n  restScrollbar: function (index) {\r\n    const $html = $(\"html\");\r\n\r\n    if ($html.attr(\"layer-full\") == index) {\r\n      $html[0].style[\r\n        $html[0].style.removeProperty ? \"removeProperty\" : \"removeAttribute\"\r\n      ](\"overflow\");\r\n      $html.removeAttr(\"layer-full\");\r\n    }\r\n  },\r\n  // 类似 Promise.resolve\r\n  promiseLikeResolve(value) {\r\n    let deferred = $.Deferred();\r\n\r\n    if (value && typeof value.then === \"function\") {\r\n      value.then(deferred.resolve, deferred.reject);\r\n    } else {\r\n      deferred.resolve(value);\r\n    }\r\n    return deferred.promise();\r\n  },\r\n\r\n  skin(type, config) {\r\n    const { skin } = config;\r\n\r\n    // 如果有定义 skin，则返回带有皮肤类名的字符串\r\n    if (skin) {\r\n      const skinClass = `${skin} ${skin}-${type}`;\r\n      return ` ${skinClass}`;\r\n    }\r\n\r\n    // 否则返回空字符串\r\n    return \"\";\r\n  },\r\n\r\n  sprintf(_str, ...args) {\r\n    let flag = true;\r\n    let i = 0;\r\n\r\n    const str = _str.replace(/%s/g, () => {\r\n      const arg = args[i++];\r\n\r\n      if (typeof arg === \"undefined\") {\r\n        flag = false;\r\n        return \"\";\r\n      }\r\n      return arg;\r\n    });\r\n\r\n    return flag ? str : \"\";\r\n  },\r\n};\r\n","export const shared = {\r\n  // 最新弹出层的层叠顺序\r\n  zIndex: 0,\r\n  // 最新弹出层的索引\r\n  index: 0,\r\n  // 配置,该配置项的作用是可以通过layer.config(options)方法来设置全局的默认配置\r\n  config: {\r\n    //是否移除弹层触发元素的焦点，避免按回车键时重复弹出\r\n    removeFocus: true,\r\n  },\r\n  end: {},\r\n  beforeEnd: {},\r\n  events: { resize: {} },\r\n  minStackIndex: 0,\r\n  minStackArr: [],\r\n  btn: [\"确定\", \"取消\"],\r\n};\r\n\r\n\r\n","import $ from \"jquery\";\r\nimport Constants from \"./constants/index\";\r\nimport Util from \"./util\";\r\n\r\nconst Store = {\r\n  // 最新弹出层的层叠顺序\r\n  zIndex: 0,\r\n  // 最新弹出层的索引\r\n  index: 0,\r\n  // 配置,该配置项的作用是可以通过layer.config(options)方法来设置全局的默认配置\r\n  config: {\r\n    //是否移除弹层触发元素的焦点，避免按回车键时重复弹出\r\n    removeFocus: true,\r\n  },\r\n  end: {},\r\n  beforeEnd: {},\r\n  events: { resize: {} },\r\n  minStackIndex: 0,\r\n  minStackArr: [],\r\n  btn: [\"确定\", \"取消\"],\r\n  // 五种原始层模式\r\n  type: [\"dialog\", \"page\", \"iframe\", \"loading\", \"tips\"],\r\n};\r\n\r\n// 缓存常用字符\r\nconst doms = [\r\n  \"layui-layer\", //0\r\n  \".layui-layer-title\", //1\r\n  \".layui-layer-main\", //2\r\n  \".layui-layer-dialog\", //3\r\n  \"layui-layer-iframe\", //4\r\n  \"layui-layer-content\", //5\r\n  \"layui-layer-btn\", //6\r\n  \"layui-layer-close\", //7\r\n];\r\n// 动画类\r\ndoms.anim = {\r\n  0: \"layer-anim-00\",\r\n  1: \"layer-anim-01\",\r\n  2: \"layer-anim-02\",\r\n  3: \"layer-anim-03\",\r\n  4: \"layer-anim-04\",\r\n  5: \"layer-anim-05\",\r\n  6: \"layer-anim-06\",\r\n  slideDown: \"layer-anim-slide-down\",\r\n  slideLeft: \"layer-anim-slide-left\",\r\n  slideUp: \"layer-anim-slide-up\",\r\n  slideRight: \"layer-anim-slide-right\",\r\n};\r\n\r\ndoms.html = $(\"html\");\r\n\r\ndoms.SHADE = \"layui-layer-shade\";\r\ndoms.MOVE = \"layui-layer-move\";\r\n\r\nlet animlen = doms.anim.length - 1;\r\n\r\n// console.log(doms.anim);\r\n// console.log(animlen);\r\n\r\nconst Class = function (setings) {\r\n  let that = this,\r\n    creat = function () {\r\n      that.creat();\r\n    };\r\n\r\n  ++Store.index;\r\n  that.index = Store.index;\r\n  that.config.maxWidth = $(window).width() - 15 * 2; // 初始最大宽度：当前屏幕宽，左右留 15px 边距\r\n  that.config = $.extend({}, that.config, Store.config, setings);\r\n  document.body\r\n    ? creat()\r\n    : setTimeout(function () {\r\n        creat();\r\n      }, 30);\r\n};\r\n\r\nClass.pt = Class.prototype;\r\n\r\n// 默认配置\r\nClass.pt.config = Constants.DEFAULTS;\r\n\r\n// 容器\r\nClass.pt.vessel = function (conType, callback) {\r\n  let that = this;\r\n  let times = that.index;\r\n  let config = that.config;\r\n\r\n  let zIndex = config.zIndex + times;\r\n\r\n  let titype = typeof config.title === \"object\";\r\n  let ismax = config.maxmin && (config.type === 1 || config.type === 2);\r\n  let titleHTML = config.title\r\n    ? '<div class=\"layui-layer-title\" style=\"' +\r\n      (titype ? config.title[1] : \"\") +\r\n      '\">' +\r\n      (titype ? config.title[0] : config.title) +\r\n      \"</div>\"\r\n    : \"\";\r\n\r\n  config.zIndex = zIndex;\r\n  callback(\r\n    [\r\n      // 遮罩\r\n      config.shade\r\n        ? '<div class=\"' +\r\n          doms.SHADE +\r\n          '\" id=\"' +\r\n          doms.SHADE +\r\n          times +\r\n          '\" times=\"' +\r\n          times +\r\n          '\" style=\"' +\r\n          (\"z-index:\" + (zIndex - 1) + \"; \") +\r\n          '\"></div>'\r\n        : \"\",\r\n\r\n      // 主体\r\n      '<div class=\"' +\r\n        doms[0] +\r\n        (\" layui-layer-\" + Store.type[config.type]) +\r\n        ((config.type == 0 || config.type == 2) && !config.shade\r\n          ? \" layui-layer-border\"\r\n          : \"\") +\r\n        \" \" +\r\n        (config.skin || \"\") +\r\n        '\" id=\"' +\r\n        doms[0] +\r\n        times +\r\n        '\" type=\"' +\r\n        Store.type[config.type] +\r\n        '\" times=\"' +\r\n        times +\r\n        '\" showtime=\"' +\r\n        config.time +\r\n        '\" conType=\"' +\r\n        (conType ? \"object\" : \"string\") +\r\n        '\" style=\"z-index: ' +\r\n        zIndex +\r\n        \"; width:\" +\r\n        config.area[0] +\r\n        \";height:\" +\r\n        config.area[1] +\r\n        \";position:\" +\r\n        (config.fixed ? \"fixed;\" : \"absolute;\") +\r\n        '\">' +\r\n        (conType && config.type != 2 ? \"\" : titleHTML) +\r\n        // 内容区\r\n        \"<div\" +\r\n        (config.id ? ' id=\"' + config.id + '\"' : \"\") +\r\n        ' class=\"layui-layer-content' +\r\n        (config.type == 0 && config.icon !== -1 ? \" layui-layer-padding\" : \"\") +\r\n        (config.type == 3 ? \" layui-layer-loading\" + config.icon : \"\") +\r\n        '\">' +\r\n        // 表情或图标\r\n        (function () {\r\n          let face = [\r\n            \"layui-icon-tips\",\r\n            \"layui-icon-success\",\r\n            \"layui-icon-error\",\r\n            \"layui-icon-question\",\r\n            \"layui-icon-lock\",\r\n            \"layui-icon-face-cry\",\r\n            \"layui-icon-face-smile\",\r\n          ];\r\n\r\n          let additFaceClass;\r\n\r\n          // 动画类\r\n          let animClass = \"layui-anim layui-anim-rotate layui-anim-loop\";\r\n\r\n          // 信息框表情\r\n          if (config.type == 0 && config.icon !== -1) {\r\n            // 加载（加载图标）\r\n            if (config.icon == 16) {\r\n              console.log(\"icon=16\");\r\n\r\n              additFaceClass = \"layui-icon layui-icon-loading \" + animClass;\r\n            }\r\n            return (\r\n              '<i class=\"layui-layer-face layui-icon ' +\r\n              (additFaceClass || face[config.icon] || face[0]) +\r\n              '\"></i>'\r\n            );\r\n          }\r\n\r\n          // 加载层图标\r\n          if (config.type == 3) {\r\n            let type = [\"layui-icon-loading\", \"layui-icon-loading-1\"];\r\n            // 风格 2\r\n            if (config.icon == 2) {\r\n              return (\r\n                '<div class=\"layui-layer-loading-2 ' + animClass + '\"></div>'\r\n              );\r\n            }\r\n            return (\r\n              '<i class=\"layui-layer-loading-icon layui-icon ' +\r\n              (type[config.icon] || type[0]) +\r\n              \" \" +\r\n              animClass +\r\n              '\"></i>'\r\n            );\r\n          }\r\n\r\n          return \"\";\r\n        })() +\r\n        (config.type == 1 && conType ? \"\" : config.content || \"\") +\r\n        \"</div>\" +\r\n        // 右上角按钮\r\n        '<div class=\"layui-layer-setwin\">' +\r\n        (function () {\r\n          let arr = [];\r\n\r\n          // 最小化、最大化\r\n          if (ismax) {\r\n            arr.push('<span class=\"layui-layer-min\"></span>');\r\n            arr.push('<span class=\"layui-layer-max\"></span>');\r\n          }\r\n\r\n          // 关闭按钮\r\n          if (config.closeBtn) {\r\n            arr.push(\r\n              '<span class=\"layui-icon layui-icon-close ' +\r\n                [\r\n                  doms[7],\r\n                  doms[7] +\r\n                    (config.title\r\n                      ? config.closeBtn\r\n                      : config.type == 4\r\n                      ? \"1\"\r\n                      : \"2\"),\r\n                ].join(\" \") +\r\n                '\"></span>'\r\n            );\r\n          }\r\n\r\n          return arr.join(\"\");\r\n        })() +\r\n        \"</div>\" +\r\n        // 底部按钮\r\n        (config.btn\r\n          ? (function () {\r\n              let button = \"\";\r\n              typeof config.btn === \"string\" && (config.btn = [config.btn]);\r\n              for (let i = 0, len = config.btn.length; i < len; i++) {\r\n                button +=\r\n                  '<a class=\"' +\r\n                  doms[6] +\r\n                  \"\" +\r\n                  i +\r\n                  '\">' +\r\n                  config.btn[i] +\r\n                  \"</a>\";\r\n              }\r\n              return (\r\n                '<div class=\"' +\r\n                (function () {\r\n                  let className = [doms[6]];\r\n                  if (config.btnAlign)\r\n                    className.push(doms[6] + \"-\" + config.btnAlign);\r\n                  return className.join(\" \");\r\n                })() +\r\n                '\">' +\r\n                button +\r\n                \"</div>\"\r\n              );\r\n            })()\r\n          : \"\") +\r\n        (config.resize ? '<span class=\"layui-layer-resize\"></span>' : \"\") +\r\n        \"</div>\",\r\n    ],\r\n    titleHTML,\r\n    $('<div class=\"' + doms.MOVE + '\" id=\"' + doms.MOVE + '\"></div>')\r\n  );\r\n  return that;\r\n};\r\n\r\n// 创建骨架\r\nClass.pt.creat = function () {\r\n  let that = this;\r\n  let config = that.config;\r\n  let times = that.index,\r\n    nodeIndex;\r\n  let content = config.content;\r\n  let conType = typeof content === \"object\";\r\n  let body = $(\"body\");\r\n\r\n  let setAnim = function (layero) {\r\n    // anim 兼容旧版 shift\r\n    if (config.shift) {\r\n      config.anim = config.shift;\r\n    }\r\n\r\n    // 为兼容 jQuery3.0 的 css 动画影响元素尺寸计算\r\n    if (doms.anim[config.anim]) {\r\n      let animClass = \"layer-anim \" + doms.anim[config.anim];\r\n      layero\r\n        .addClass(animClass)\r\n        .one(\r\n          \"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend\",\r\n          function () {\r\n            $(this).removeClass(animClass);\r\n          }\r\n        );\r\n    }\r\n  };\r\n\r\n  // 若 id 对应的弹层已经存在，则不重新创建\r\n  if (config.id && $(\".\" + doms[0]).find(\"#\" + config.id)[0]) {\r\n    return (function () {\r\n      let layero = $(\"#\" + config.id).closest(\".\" + doms[0]);\r\n      let index = layero.attr(\"times\");\r\n      let options = layero.data(\"config\");\r\n      let elemShade = $(\"#\" + doms.SHADE + index);\r\n\r\n      let maxminStatus = layero.data(\"maxminStatus\") || {};\r\n      // 若弹层为最小化状态，则点击目标元素时，自动还原\r\n      if (maxminStatus === \"min\") {\r\n        layer.restore(index);\r\n      } else if (options.hideOnClose) {\r\n        elemShade.show();\r\n        layero.show();\r\n\r\n        setAnim(layero);\r\n        setTimeout(function () {\r\n          elemShade.css({\r\n            opacity: elemShade.data(Constants.DATAKEY.SHADE_KEY),\r\n          });\r\n        }, 10);\r\n      }\r\n    })();\r\n  }\r\n\r\n  // 是否移除活动元素的焦点\r\n  if (config.removeFocus && document.activeElement) {\r\n    document.activeElement.blur(); // 将原始的聚焦节点失焦\r\n  }\r\n\r\n  // 初始化 area 属性\r\n  if (typeof config.area === \"string\") {\r\n    config.area = config.area === \"auto\" ? [\"\", \"\"] : [config.area, \"\"];\r\n  }\r\n\r\n  if (layer.ie == 6) {\r\n    config.fixed = false;\r\n  }\r\n\r\n  switch (config.type) {\r\n    case 0:\r\n      config.btn = \"btn\" in config ? config.btn : Store.btn[0];\r\n      layer.closeAll(\"dialog\");\r\n      break;\r\n    case 2:\r\n      let content = (config.content = conType\r\n        ? config.content\r\n        : [config.content || \"\", \"auto\"]);\r\n      config.content =\r\n        '<iframe scrolling=\"' +\r\n        (config.content[1] || \"auto\") +\r\n        '\" allowtransparency=\"true\" id=\"' +\r\n        doms[4] +\r\n        \"\" +\r\n        times +\r\n        '\" name=\"' +\r\n        doms[4] +\r\n        \"\" +\r\n        times +\r\n        '\" onload=\"this.className=\\'\\';\" class=\"layui-layer-load\" frameborder=\"0\" src=\"' +\r\n        config.content[0] +\r\n        '\"></iframe>';\r\n      break;\r\n    case 3:\r\n      delete config.title;\r\n      delete config.closeBtn;\r\n      config.icon === -1 && config.icon === 0;\r\n      layer.closeAll(\"loading\");\r\n      break;\r\n    case 4:\r\n      conType || (config.content = [config.content, \"body\"]);\r\n      config.follow = config.content[1];\r\n      config.content = config.content[0] + '<i class=\"layui-layer-TipsG\"></i>';\r\n      delete config.title;\r\n      config.tips =\r\n        typeof config.tips === \"object\" ? config.tips : [config.tips, true];\r\n      config.tipsMore || layer.closeAll(\"tips\");\r\n      break;\r\n  }\r\n\r\n  // 建立容器\r\n  that\r\n    .vessel(conType, function (html, titleHTML, moveElem) {\r\n      body.append(html[0]); //往body加入了遮罩层\r\n      conType // 判断content选项是对象\r\n        ? (function () {\r\n            config.type == 2 || config.type == 4\r\n              ? (function () {\r\n                  $(\"body\").append(html[1]);\r\n                })()\r\n              : (function () {\r\n                  if (!content.parents(\".\" + doms[0])[0]) {\r\n                    content\r\n                      .data(\"display\", content.css(\"display\"))\r\n                      .show()\r\n                      .addClass(\"layui-layer-wrap\")\r\n                      .wrap(html[1]);\r\n                    $(\"#\" + doms[0] + times)\r\n                      .find(\".\" + doms[5])\r\n                      .before(titleHTML);\r\n                  }\r\n                })();\r\n          })()\r\n        : body.append(html[1]);\r\n\r\n      $(\"#\" + doms.MOVE)[0] || body.append((Store.moveElem = moveElem));\r\n\r\n      that.layero = $(\"#\" + doms[0] + times);\r\n      that.shadeo = $(\"#\" + doms.SHADE + times);\r\n\r\n      config.scrollbar || Util.setScrollbar(times);\r\n    })\r\n    .auto(times);\r\n\r\n  // 遮罩\r\n  that.shadeo.css({\r\n    \"background-color\": config.shade[1] || \"#000\",\r\n    opacity: config.shade[0] || config.shade,\r\n    transition: config.shade[2] || \"\",\r\n  });\r\n  that.shadeo.data(\r\n    Constants.DATAKEY.SHADE_KEY,\r\n    config.shade[0] || config.shade\r\n  );\r\n\r\n  config.type == 2 &&\r\n    layer.ie == 6 &&\r\n    that.layero.find(\"iframe\").attr(\"src\", content[0]);\r\n\r\n  if (config.type == 4) {\r\n    //tips层，调用tips的方法\r\n    that.tips();\r\n  } else {\r\n    // 坐标自适应浏览器窗口尺寸\r\n    that.offset();\r\n    const zIndex = parseInt(\r\n      Util.getStyle(document.getElementById(doms.MOVE), \"z-index\")\r\n    );\r\n\r\n    if (!zIndex) {\r\n      that.layero\r\n        .css(\"visibility\", \"hidden\")\r\n        .offset()\r\n        .css(\"visibility\", \"visible\");\r\n    }\r\n  }\r\n\r\n  // 若是固定定位，则跟随 resize 事件来自适应坐标\r\n  if (config.fixed) {\r\n    if (!Store.events.resize[that.index]) {\r\n      Store.events.resize[that.index] = function () {\r\n        that.resize();\r\n      };\r\n      // 此处 resize 事件不会一直叠加，当关闭弹层时会移除该事件\r\n      $(window).on(\"resize\", Store.events.resize[that.index]);\r\n    }\r\n  }\r\n\r\n  config.time <= 0 ||\r\n    setTimeout(function () {\r\n      layer.close(that.index);\r\n    }, config.time);\r\n  that.move().callback();\r\n\r\n  setAnim(that.layero);\r\n\r\n  // 记录配置信息\r\n  that.layero.data(\"config\", config);\r\n};\r\n\r\n// 当前实例的 resize 事件\r\nClass.pt.resize = function () {\r\n  let that = this;\r\n  let config = that.config;\r\n\r\n  that.offset();\r\n  (/^\\d+%$/.test(config.area[0]) || /^\\d+%$/.test(config.area[1])) &&\r\n    that.auto(that.index);\r\n  config.type == 4 && that.tips();\r\n};\r\n\r\n// 自适应\r\nClass.pt.auto = function (index) {\r\n  let that = this,\r\n    config = that.config,\r\n    layero = $(\"#\" + doms[0] + index);\r\n\r\n  if (config.area[0] === \"\" && config.maxWidth > 0) {\r\n    // 适配 ie7\r\n    if (layer.ie && layer.ie < 8 && config.btn) {\r\n      layero.width(layero.innerWidth());\r\n    }\r\n    layero.outerWidth() > config.maxWidth && layero.width(config.maxWidth);\r\n  }\r\n\r\n  let area = [layero.innerWidth(), layero.innerHeight()];\r\n  let titHeight = layero.find(doms[1]).outerHeight() || 0;\r\n  let btnHeight = layero.find(\".\" + doms[6]).outerHeight() || 0;\r\n  let setHeight = function (elem) {\r\n    elem = layero.find(elem);\r\n    elem.height(\r\n      area[1] -\r\n        titHeight -\r\n        btnHeight -\r\n        2 * (parseFloat(elem.css(\"padding-top\")) | 0)\r\n    );\r\n  };\r\n\r\n  switch (config.type) {\r\n    case 2:\r\n      setHeight(\"iframe\");\r\n      break;\r\n    default:\r\n      if (config.area[1] === \"\") {\r\n        if (config.maxHeight > 0 && layero.outerHeight() > config.maxHeight) {\r\n          area[1] = config.maxHeight;\r\n          setHeight(\".\" + doms[5]);\r\n        } else if (config.fixed && area[1] >= $(window).height()) {\r\n          area[1] = $(window).height();\r\n          setHeight(\".\" + doms[5]);\r\n        }\r\n      } else {\r\n        setHeight(\".\" + doms[5]);\r\n      }\r\n      break;\r\n  }\r\n\r\n  return that;\r\n};\r\n\r\n// 计算坐标\r\nClass.pt.offset = function () {\r\n  let that = this,\r\n    config = that.config,\r\n    layero = that.layero;\r\n  let area = [layero.outerWidth(), layero.outerHeight()];\r\n  let type = typeof config.offset === \"object\";\r\n  that.offsetTop = ($(window).height() - area[1]) / 2;\r\n  that.offsetLeft = ($(window).width() - area[0]) / 2;\r\n\r\n  if (type) {\r\n    that.offsetTop = config.offset[0];\r\n    that.offsetLeft = config.offset[1] || that.offsetLeft;\r\n  } else if (config.offset !== \"auto\") {\r\n    if (config.offset === \"t\") {\r\n      // 上\r\n      that.offsetTop = 0;\r\n    } else if (config.offset === \"r\") {\r\n      // 右\r\n      that.offsetLeft = $(window).width() - area[0];\r\n    } else if (config.offset === \"b\") {\r\n      // 下\r\n      that.offsetTop = $(window).height() - area[1];\r\n    } else if (config.offset === \"l\") {\r\n      // 左\r\n      that.offsetLeft = 0;\r\n    } else if (config.offset === \"lt\") {\r\n      // 左上\r\n      that.offsetTop = 0;\r\n      that.offsetLeft = 0;\r\n    } else if (config.offset === \"lb\") {\r\n      // 左下\r\n      that.offsetTop = $(window).height() - area[1];\r\n      that.offsetLeft = 0;\r\n    } else if (config.offset === \"rt\") {\r\n      // 右上\r\n      that.offsetTop = 0;\r\n      that.offsetLeft = $(window).width() - area[0];\r\n    } else if (config.offset === \"rb\") {\r\n      // 右下\r\n      that.offsetTop = $(window).height() - area[1];\r\n      that.offsetLeft = $(window).width() - area[0];\r\n    } else {\r\n      that.offsetTop = config.offset;\r\n    }\r\n  }\r\n\r\n  if (!config.fixed) {\r\n    that.offsetTop = /%$/.test(that.offsetTop)\r\n      ? ($(window).height() * parseFloat(that.offsetTop)) / 100\r\n      : parseFloat(that.offsetTop);\r\n    that.offsetLeft = /%$/.test(that.offsetLeft)\r\n      ? ($(window).width() * parseFloat(that.offsetLeft)) / 100\r\n      : parseFloat(that.offsetLeft);\r\n    that.offsetTop += $(window).scrollTop();\r\n    that.offsetLeft += $(window).scrollLeft();\r\n  }\r\n\r\n  // 最小化窗口时的自适应\r\n  if (layero.data(\"maxminStatus\") === \"min\") {\r\n    that.offsetTop =\r\n      $(window).height() - (layero.find(doms[1]).outerHeight() || 0);\r\n    that.offsetLeft = layero.css(\"left\");\r\n  }\r\n\r\n  // 设置坐标\r\n  layero.css({\r\n    top: that.offsetTop,\r\n    left: that.offsetLeft,\r\n  });\r\n};\r\n\r\n// Tips\r\nClass.pt.tips = function () {\r\n  let that = this,\r\n    config = that.config,\r\n    layero = that.layero;\r\n  let layArea = [layero.outerWidth(), layero.outerHeight()],\r\n    follow = $(config.follow);\r\n  if (!follow[0]) follow = $(\"body\");\r\n  let goal = {\r\n      width: follow.outerWidth(),\r\n      height: follow.outerHeight(),\r\n      top: follow.offset().top,\r\n      left: follow.offset().left,\r\n    },\r\n    tipsG = layero.find(\".layui-layer-TipsG\");\r\n\r\n  let guide = config.tips[0];\r\n  config.tips[1] || tipsG.remove();\r\n\r\n  goal.autoLeft = function () {\r\n    if (goal.left + layArea[0] - $(window).width() > 0) {\r\n      goal.tipLeft = goal.left + goal.width - layArea[0];\r\n      tipsG.css({ right: 12, left: \"auto\" });\r\n    } else {\r\n      goal.tipLeft = goal.left;\r\n    }\r\n  };\r\n\r\n  // 辨别 tips 的方位\r\n  // 21 为箭头大小 8*2 + 箭头相对父元素的top偏移 5\r\n  goal.where = [\r\n    function () {\r\n      // 上\r\n      goal.autoLeft();\r\n      goal.tipTop = goal.top - layArea[1] - 10;\r\n      tipsG\r\n        .removeClass(\"layui-layer-TipsB\")\r\n        .addClass(\"layui-layer-TipsT\")\r\n        .css(\"border-right-color\", config.tips[1]);\r\n    },\r\n    function () {\r\n      // 右\r\n      goal.tipLeft = goal.left + goal.width + 10;\r\n      goal.tipTop =\r\n        goal.top - (goal.height * 0.75 < 21 ? 21 - goal.height * 0.5 : 0);\r\n      goal.tipTop = Math.max(goal.tipTop, 0);\r\n      tipsG\r\n        .removeClass(\"layui-layer-TipsL\")\r\n        .addClass(\"layui-layer-TipsR\")\r\n        .css(\"border-bottom-color\", config.tips[1]);\r\n    },\r\n    function () {\r\n      // 下\r\n      goal.autoLeft();\r\n      goal.tipTop = goal.top + goal.height + 10;\r\n      tipsG\r\n        .removeClass(\"layui-layer-TipsT\")\r\n        .addClass(\"layui-layer-TipsB\")\r\n        .css(\"border-right-color\", config.tips[1]);\r\n    },\r\n    function () {\r\n      // 左\r\n      goal.tipLeft = goal.left - layArea[0] - 10;\r\n      goal.tipTop =\r\n        goal.top - (goal.height * 0.75 < 21 ? 21 - goal.height * 0.5 : 0);\r\n      goal.tipTop = Math.max(goal.tipTop, 0);\r\n      tipsG\r\n        .removeClass(\"layui-layer-TipsR\")\r\n        .addClass(\"layui-layer-TipsL\")\r\n        .css(\"border-bottom-color\", config.tips[1]);\r\n    },\r\n  ];\r\n  goal.where[guide - 1]();\r\n\r\n  /* 8*2为小三角形占据的空间 */\r\n  if (guide === 1) {\r\n    goal.top - ($(window).scrollTop() + layArea[1] + 8 * 2) < 0 &&\r\n      goal.where[2]();\r\n  } else if (guide === 2) {\r\n    $(window).width() - (goal.left + goal.width + layArea[0] + 8 * 2) > 0 ||\r\n      goal.where[3]();\r\n  } else if (guide === 3) {\r\n    goal.top -\r\n      $(window).scrollTop() +\r\n      goal.height +\r\n      layArea[1] +\r\n      8 * 2 -\r\n      $(window).height() >\r\n      0 && goal.where[0]();\r\n  } else if (guide === 4) {\r\n    layArea[0] + 8 * 2 - goal.left > 0 && goal.where[1]();\r\n  }\r\n\r\n  layero.find(\".\" + doms[5]).css({\r\n    \"background-color\": config.tips[1],\r\n    \"padding-right\": config.closeBtn ? \"30px\" : \"\",\r\n  });\r\n  layero.css({\r\n    left: goal.tipLeft - (config.fixed ? $(window).scrollLeft() : 0),\r\n    top: goal.tipTop - (config.fixed ? $(window).scrollTop() : 0),\r\n  });\r\n};\r\n\r\n// 拖拽层\r\nClass.pt.move = function () {\r\n  let that = this;\r\n  let config = that.config;\r\n  let _DOC = $(document);\r\n  let layero = that.layero;\r\n  let DATA_NAME = [\"LAY_MOVE_DICT\", \"LAY_RESIZE_DICT\"];\r\n  let moveElem = layero.find(config.move);\r\n  let resizeElem = layero.find(\".layui-layer-resize\");\r\n\r\n  // 给指定元素添加拖动光标\r\n  if (config.move) moveElem.css(\"cursor\", \"move\");\r\n\r\n  // 按下拖动元素\r\n  moveElem.on(\"mousedown\", function (e) {\r\n    if (e.button) {\r\n      return;\r\n    } // 不是左键不处理\r\n    let othis = $(this);\r\n    let dict = {};\r\n\r\n    if (config.move) {\r\n      dict.layero = layero;\r\n      dict.config = config;\r\n      dict.offset = [\r\n        e.clientX - parseFloat(layero.css(\"left\")),\r\n        e.clientY - parseFloat(layero.css(\"top\")),\r\n      ];\r\n\r\n      othis.data(DATA_NAME[0], dict);\r\n      Store.eventMoveElem = othis;\r\n      Store.moveElem.css(\"cursor\", \"move\").show();\r\n    }\r\n\r\n    e.preventDefault();\r\n  });\r\n\r\n  // 按下右下角拉伸\r\n  resizeElem.on(\"mousedown\", function (e) {\r\n    let othis = $(this);\r\n    let dict = {};\r\n\r\n    if (config.resize) {\r\n      dict.layero = layero;\r\n      dict.config = config;\r\n      dict.offset = [e.clientX, e.clientY];\r\n      dict.index = that.index;\r\n      dict.area = [layero.outerWidth(), layero.outerHeight()];\r\n\r\n      othis.data(DATA_NAME[1], dict);\r\n      Store.eventResizeElem = othis;\r\n      Store.moveElem.css(\"cursor\", \"se-resize\").show();\r\n    }\r\n\r\n    e.preventDefault();\r\n  });\r\n\r\n  // 拖动元素，避免多次调用实例造成事件叠加\r\n  if (Store.docEvent) return that;\r\n  _DOC\r\n    .on(\"mousemove\", function (e) {\r\n      // 拖拽移动\r\n      if (Store.eventMoveElem) {\r\n        let dict = Store.eventMoveElem.data(DATA_NAME[0]) || {},\r\n          layero = dict.layero,\r\n          config = dict.config;\r\n\r\n        let X = e.clientX - dict.offset[0];\r\n        let Y = e.clientY - dict.offset[1];\r\n        let fixed = layero.css(\"position\") === \"fixed\";\r\n\r\n        e.preventDefault();\r\n\r\n        dict.stX = fixed ? 0 : $(window).scrollLeft();\r\n        dict.stY = fixed ? 0 : $(window).scrollTop();\r\n\r\n        // 控制元素不被拖出窗口外\r\n        if (!config.moveOut) {\r\n          let setRig = $(window).width() - layero.outerWidth() + dict.stX;\r\n          let setBot = $(window).height() - layero.outerHeight() + dict.stY;\r\n          X < dict.stX && (X = dict.stX);\r\n          X > setRig && (X = setRig);\r\n          Y < dict.stY && (Y = dict.stY);\r\n          Y > setBot && (Y = setBot);\r\n        }\r\n\r\n        // 拖动时跟随鼠标位置\r\n        layero.css({\r\n          left: X,\r\n          top: Y,\r\n        });\r\n      }\r\n\r\n      // Resize\r\n      if (Store.eventResizeElem) {\r\n        let dict = Store.eventResizeElem.data(DATA_NAME[1]) || {};\r\n        let config = dict.config;\r\n\r\n        let X = e.clientX - dict.offset[0];\r\n        let Y = e.clientY - dict.offset[1];\r\n\r\n        e.preventDefault();\r\n\r\n        // 拉伸宽高\r\n        layer.style(dict.index, {\r\n          width: dict.area[0] + X,\r\n          height: dict.area[1] + Y,\r\n        });\r\n\r\n        config.resizing && config.resizing(dict.layero);\r\n      }\r\n    })\r\n    .on(\"mouseup\", function (e) {\r\n      if (Store.eventMoveElem) {\r\n        let dict = Store.eventMoveElem.data(DATA_NAME[0]) || {};\r\n        let config = dict.config;\r\n\r\n        Store.eventMoveElem.removeData(DATA_NAME[0]);\r\n        delete Store.eventMoveElem;\r\n        Store.moveElem.hide();\r\n        config.moveEnd && config.moveEnd(dict.layero);\r\n      }\r\n      if (Store.eventResizeElem) {\r\n        Store.eventResizeElem.removeData(DATA_NAME[1]);\r\n        delete Store.eventResizeElem;\r\n        Store.moveElem.hide();\r\n      }\r\n    });\r\n\r\n  Store.docEvent = true; // 已给 document 执行全局事件\r\n  return that;\r\n};\r\n\r\nClass.pt.btnLoading = function (btnElem, isLoading) {\r\n  if (isLoading) {\r\n    let loadingTpl =\r\n      '<i class=\"layui-layer-btn-loading-icon layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop\"></i>';\r\n    if (btnElem.find(\".layui-layer-btn-loading-icon\")[0]) return;\r\n    btnElem\r\n      .addClass(\"layui-layer-btn-is-loading\")\r\n      .attr({ disabled: \"\" })\r\n      .prepend(loadingTpl);\r\n  } else {\r\n    btnElem\r\n      .removeClass(\"layui-layer-btn-is-loading\")\r\n      .removeAttr(\"disabled\")\r\n      .find(\".layui-layer-btn-loading-icon\")\r\n      .remove();\r\n  }\r\n};\r\nClass.pt.callback = function () {\r\n  let that = this,\r\n    layero = that.layero,\r\n    config = that.config;\r\n\r\n  that.openLayer();\r\n\r\n  function executeSuccess() {\r\n    if (config.success) {\r\n      config.success(layero, that.index, that);\r\n    }\r\n  }\r\n\r\n  if (config.type === 2) {\r\n    layero.find(\"iframe\").on(\"load\", executeSuccess);\r\n  } else {\r\n    executeSuccess();\r\n  }\r\n\r\n  layer.ie === 6 && that.IE6(layero);\r\n\r\n  // 按钮事件绑定\r\n  handleButtonEvents(layero, config, that);\r\n\r\n  // 右上角关闭回调\r\n  layero.find(\".\" + doms[7]).on(\"click\", function () {\r\n    handleCancel(config, that);\r\n  });\r\n\r\n  // 点击遮罩关闭\r\n  if (config.shadeClose) {\r\n    that.shadeo.on(\"click\", function () {\r\n      layer.close(that.index);\r\n    });\r\n  }\r\n\r\n  // 最小化\r\n  layero.find(\".layui-layer-min\").on(\"click\", function () {\r\n    handleMinimize(config, layero, that);\r\n  });\r\n\r\n  // 全屏/还原\r\n  layero.find(\".layui-layer-max\").on(\"click\", function () {\r\n    handleMaximize(config, layero, that);\r\n  });\r\n\r\n  config.end && (Store.end[that.index] = config.end);\r\n  config.beforeEnd &&\r\n    (Store.beforeEnd[that.index] = $.proxy(\r\n      config.beforeEnd,\r\n      config,\r\n      layero,\r\n      that.index,\r\n      that\r\n    ));\r\n};\r\n\r\n// 处理按钮点击事件\r\nfunction handleButtonEvents(layero, config, that) {\r\n  layero\r\n    .find(\".\" + doms[6])\r\n    .children(\"a\")\r\n    .on(\"click\", function () {\r\n      let btnElem = $(this);\r\n      let index = btnElem.index();\r\n\r\n      if (btnElem.attr(\"disabled\")) return;\r\n\r\n      if (config.btnAsync) {\r\n        handleAsyncButton(btnElem, config, index, that);\r\n      } else {\r\n        handleNormalButton(btnElem, config, index, that);\r\n      }\r\n    });\r\n}\r\n\r\n// 处理普通按钮\r\nfunction handleNormalButton(btnElem, config, index, that) {\r\n  if (index === 0) {\r\n    (\r\n      config.yes ||\r\n      config[\"btn1\"] ||\r\n      function () {\r\n        layer.close(that.index);\r\n      }\r\n    )(that.index, that.layero, that);\r\n  } else {\r\n    let close =\r\n      config[\"btn\" + (index + 1)] &&\r\n      config[\"btn\" + (index + 1)](that.index, that.layero, that);\r\n\r\n\r\n      \r\n    if (close !== false) {\r\n      layer.close(that.index);\r\n    }\r\n  }\r\n}\r\n\r\n// 处理异步按钮\r\nfunction handleAsyncButton(btnElem, config, index, that) {\r\n  let btnCallback =\r\n    index === 0 ? config.yes || config[\"btn1\"] : config[\"btn\" + (index + 1)];\r\n\r\n  that.loading = function (isLoading) {\r\n    console.log(\"我被执行了\");\r\n    that.btnLoading(btnElem, isLoading);\r\n  };\r\n\r\n  if (btnCallback) {\r\n    Util.promiseLikeResolve(\r\n      btnCallback.call(config, that.index, that.layero, that)\r\n    ).then(\r\n      function (result) {\r\n        if (result !== false) {\r\n          layer.close(that.index);\r\n        }\r\n      },\r\n      function (reason) {\r\n        reason !== undefined && console.error(\"layer error hint: \" + reason);\r\n      }\r\n    );\r\n  } else {\r\n    layer.close(that.index);\r\n  }\r\n}\r\n\r\n// 处理取消按钮\r\nfunction handleCancel(config, that) {\r\n  let close = config.cancel && config.cancel(that.index, that.layero, that);\r\n  close === false || layer.close(that.index);\r\n}\r\n\r\n// 处理最小化按钮\r\nfunction handleMinimize(config, layero, that) {\r\n  let min = config.min && config.min(layero, that.index, that);\r\n  min === false || layer.min(that.index, config);\r\n}\r\n\r\n// 处理最大化按钮\r\nfunction handleMaximize(config, layero, that) {\r\n  let maxButton = layero.find(\".layui-layer-max\");\r\n\r\n  if (maxButton.hasClass(\"layui-layer-maxmin\")) {\r\n    layer.restore(that.index);\r\n    config.restore && config.restore(layero, that.index, that);\r\n  } else {\r\n    layer.full(that.index, config);\r\n    setTimeout(function () {\r\n      config.full && config.full(layero, that.index, that);\r\n    }, 100);\r\n  }\r\n}\r\n\r\nClass.pt.IE6 = function (layero) {\r\n  // 隐藏select\r\n  $(\"select\").each(function (index, value) {\r\n    let sthis = $(this);\r\n    if (!sthis.parents(\".\" + doms[0])[0]) {\r\n      sthis.css(\"display\") === \"none\" || sthis.attr({ layer: \"1\" }).hide();\r\n    }\r\n    sthis = null;\r\n  });\r\n};\r\n\r\n// 需依赖原型的对外方法\r\nClass.pt.openLayer = function () {\r\n  let that = this;\r\n\r\n  // 置顶当前窗口\r\n  layer.zIndex = that.config.zIndex;\r\n  layer.setTop = function (layero) {\r\n    let setZindex = function () {\r\n      layer.zIndex++;\r\n      layero.css(\"z-index\", layer.zIndex + 1);\r\n    };\r\n    layer.zIndex = parseInt(layero[0].style.zIndex);\r\n    layero.on(\"mousedown\", setZindex);\r\n    return layer.zIndex;\r\n  };\r\n};\r\n\r\nexport default Class;\r\n","/** Returns the object type of the given payload */\nexport function getType(payload) {\n    return Object.prototype.toString.call(payload).slice(8, -1);\n}\n","import { getType } from './getType.js';\n/** Returns whether the payload is an array */\nexport function isArray(payload) {\n    return getType(payload) === 'Array';\n}\n","import { getType } from './getType.js';\n/**\n * Returns whether the payload is a plain JavaScript object (excluding special classes or objects\n * with other prototypes)\n */\nexport function isPlainObject(payload) {\n    if (getType(payload) !== 'Object')\n        return false;\n    const prototype = Object.getPrototypeOf(payload);\n    return !!prototype && prototype.constructor === Object && prototype === Object.prototype;\n}\n","import { getType } from './getType.js';\n/** Returns whether the payload is a string */\nexport function isString(payload) {\n    return getType(payload) === 'String';\n}\n","/** Returns whether the payload is a function (regular or async) */\nexport function isFunction(payload) {\n    return typeof payload === 'function';\n}\n","import { getType } from './getType.js';\n/**\n * Returns whether the payload is a number (but not NaN)\n *\n * This will return `false` for `NaN`!!\n */\nexport function isNumber(payload) {\n    return getType(payload) === 'Number' && !isNaN(payload);\n}\n","import { isPlainObject } from './isPlainObject.js';\n/**\n * Returns whether the payload is a plain JavaScript object (excluding special classes or objects\n * with other prototypes)\n */\nexport function isObject(payload) {\n    return isPlainObject(payload);\n}\n","import { isString, isObject } from \"is-what\";\r\nimport Constants, { MAP } from \"./constants/index\";\r\nimport Util from \"./util\";\r\n\r\nclass HTMLGenerator {\r\n  // 索引\r\n  constructor(config, index) {\r\n    console.log(\"HTMLGenerator\");\r\n    this.config = config;\r\n    this.index = index;\r\n    //计算索引值\r\n    this.zIndex = this.config.zIndex + this.index;\r\n  }\r\n\r\n  // 获取遮罩层的html\r\n  getShadeHTML() {\r\n    let shadeHTML = \"\";\r\n    if (this.config.shade) {\r\n      shadeHTML = Util.sprintf(\r\n        Constants.HTML.shade,\r\n        Constants.CLASSES.shade,\r\n        `${Constants.CLASSES.shade}${this.index}`,\r\n        this.index,\r\n        this.zIndex - 1\r\n      );\r\n    }\r\n    return shadeHTML;\r\n  }\r\n\r\n  // 获取容器的html字符串\r\n  getContainerHTML() {\r\n    // 加入主体开始标签\r\n    const html = [this.#getMainWrapBeginHTML()];\r\n\r\n    // 加入title\r\n    html.push(this.getTtitleHTML());\r\n\r\n    // 加入内容区开头标签\r\n    html.push(this.#getContentBeginHTML());\r\n\r\n    // 表情图标(这里整一个方法拆分出去，不然这一个方法太长了)\r\n    html.push(this.#getIconHtml());\r\n\r\n    // 加入正在的主体内容\r\n    html.push(this.#getContentHTML());\r\n\r\n    // 加入内容区结尾\r\n    html.push(Constants.HTML.content[1]);\r\n\r\n    // 加入右操作区域开头\r\n    html.push(Constants.HTML.setWin[0]);\r\n\r\n    // 最小化最大化按钮\r\n    html.push(this.#getMinMaxBtnHTML());\r\n\r\n    // 关闭按钮\r\n    html.push(this.#getCloseBtnHTML());\r\n\r\n    // 加入右操作区域结尾\r\n    html.push(Constants.HTML.setWin[1]);\r\n\r\n    //加入底部按钮区域\r\n    html.push(this.#getBottomBtnHTHML());\r\n\r\n    // 控制拖动大小的\r\n    if (this.config.resize) {\r\n      html.push(Constants.HTML.resize);\r\n    }\r\n\r\n    //加入主体尾部\r\n    html.push(Constants.HTML.mainWrap[1]);\r\n\r\n    return html.join(\"\");\r\n  }\r\n\r\n  // 获取容器的开始标记\r\n  #getMainWrapBeginHTML() {\r\n    const borderClass =\r\n      [MAP.TYPE.DIALOG, MAP.TYPE.IFRAME].includes(this.config.type) &&\r\n      !this.config.shade\r\n        ? Constants.CLASSES.layerBorder\r\n        : \"\";\r\n\r\n    const layerType = MAP.TYPE_NAME[this.config.type];\r\n\r\n    return Util.sprintf(\r\n      Constants.HTML.mainWrap[0],\r\n      Constants.CLASSES.layuiLayer,\r\n      `layui-layer-${layerType}`,\r\n      borderClass,\r\n      this.config.skin || \"\",\r\n      `${Constants.CLASSES.layuiLayer}${this.index}`, //id\r\n      layerType, //type\r\n      this.index, //次数\r\n      this.config.time, //时间\r\n      isObject(this.config.content) ? \"object\" : \"string\", //类型\r\n      this.zIndex,\r\n      this.config.area[0],\r\n      this.config.area[1],\r\n      this.config.fixed ? \"fixed;\" : \"absolute;\"\r\n    );\r\n  }\r\n\r\n  getTtitleHTML() {\r\n    // title选项的类型判断\r\n    const titleType = Array.isArray(this.config.title);\r\n    // 加入title\r\n    let titleHTML = \"\";\r\n    if (this.config.title) {\r\n      const titleStyle = titleType ? this.config.title[1] : \"\";\r\n      const titleText = titleType ? this.config.title[0] : this.config.title;\r\n      titleHTML = Util.sprintf(Constants.HTML.title, titleStyle, titleText);\r\n    }\r\n\r\n    return isObject(this.config.content) && this.config.type != MAP.TYPE.IFRAME\r\n      ? \"\"\r\n      : titleHTML;\r\n  }\r\n\r\n  #getContentBeginHTML() {\r\n    // 是信息框且设置了图标就添加一点边距\r\n    const paddingClass =\r\n      this.config.type == MAP.TYPE.DIALOG && this.config.icon !== -1\r\n        ? Constants.CLASSES.layerPadding\r\n        : \"\";\r\n\r\n    const loadingClass =\r\n      this.config.type == MAP.TYPE.LOADING\r\n        ? `${Constants.CLASSES.layerLoading}${this.config.icon}`\r\n        : \"\";\r\n\r\n    return Util.sprintf(\r\n      Constants.HTML.content[0],\r\n      this.config.id ? this.config.id : \"\", //id\r\n      paddingClass, //边距\r\n      loadingClass // 加载图标\r\n    );\r\n  }\r\n\r\n  #getIconHtml() {\r\n    // 动画基础类\r\n    const animClass = [\r\n      Constants.CLASSES.layuiAnim,\r\n      Constants.CLASSES.layuiAnimRotate,\r\n      Constants.CLASSES.layuiAnimLoop,\r\n    ].join(\" \");\r\n\r\n    //若为信息框，支持传入 0-6 的可选值\r\n    if (this.config.type === MAP.TYPE.DIALOG && this.config.icon !== -1) {\r\n      return this.#getFaceIcon(animClass);\r\n    }\r\n    // 若为加载层，支持传入 0-2 的可选值\r\n    if (this.config.type === MAP.TYPE.LOADING) {\r\n      return this.#getLoadingIcon(animClass);\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  #getContentHTML() {\r\n    const isPageType = this.config.type === MAP.TYPE.PAGE;\r\n\r\n    // 如果是 PAGE 类型并且 conType 存在，返回空字符串\r\n    if (isPageType && isObject(this.config.content)) {\r\n      return \"\";\r\n    }\r\n\r\n    // 如果 content 存在，返回 content，否则返回空字符串\r\n    return this.config.content ? this.config.content : \"\";\r\n  }\r\n\r\n  #getBottomBtnHTHML() {\r\n    const html = [];\r\n    //加入底部按钮区域\r\n    if (this.config.btn) {\r\n      const btnAlignClass = this.config.btnAlign\r\n        ? `${Constants.CLASSES.layerBtn}-${this.config.btnAlign}`\r\n        : \"\";\r\n      html.push(Util.sprintf(Constants.HTML.btnWrap[0], btnAlignClass));\r\n\r\n      //加入按钮\r\n      html.push(this.#getButtonHTML());\r\n\r\n      html.push(Constants.HTML.btnWrap[1]);\r\n    }\r\n    return html.join(\" \");\r\n  }\r\n\r\n  #getCloseBtnHTML() {\r\n    let html = \"\";\r\n    if (this.config.closeBtn) {\r\n      let closeButton;\r\n      if (this.config.title) {\r\n        closeButton = this.config.closeBtn;\r\n      } else if (this.config.type === MAP.TYPE.TIPS) {\r\n        closeButton = \"1\";\r\n      } else {\r\n        closeButton = \"2\";\r\n      }\r\n\r\n      html = Util.sprintf(\r\n        Constants.HTML.closeBtn,\r\n        Constants.CLASSES.layerClose,\r\n        `${Constants.CLASSES.layerClose}${closeButton}`\r\n      );\r\n    }\r\n    return html;\r\n  }\r\n\r\n  #getMinMaxBtnHTML() {\r\n    const html = [];\r\n    // 当 this.config.maxmin 为 true，并且 this.config.type 的值是 1 或 2 时，ismax 的值为 true,否则，ismax 的值为 false\r\n\r\n    let ismax =\r\n      this.config.maxmin &&\r\n      [MAP.TYPE.PAGE, MAP.TYPE.IFRAME].includes(this.config.type);\r\n\r\n    if (ismax) {\r\n      html.push(Constants.HTML.minBtn);\r\n      html.push(Constants.HTML.maxBtn);\r\n    }\r\n    return html.join(\" \");\r\n  }\r\n\r\n  #getButtonHTML() {\r\n    if (!this.config.btn) return \"\";\r\n\r\n    const buttonHtml = [];\r\n\r\n    // 如果 `config.btn` 是字符串，将其转换为数组\r\n\r\n    if (isString(this.config.btn)) {\r\n      this.config.btn = [this.config.btn];\r\n    }\r\n\r\n    console.log(this.config.btn);\r\n\r\n    // 遍历按钮数组，生成按钮的 HTML 字符串\r\n    this.config.btn.forEach((btnLabel, i) => {\r\n      buttonHtml.push(Util.sprintf(Constants.HTML.btn, i, btnLabel));\r\n    });\r\n\r\n    return buttonHtml.join(\" \");\r\n  }\r\n\r\n  #getFaceIcon(animClass) {\r\n    const faceClassNameMap = {\r\n      [MAP.FACE.TIPS]: Constants.CLASSES.faceTips,\r\n      [MAP.FACE.SUCCESS]: Constants.CLASSES.faceSuccess,\r\n      [MAP.FACE.ERROR]: Constants.CLASSES.faceError,\r\n      [MAP.FACE.QUESTION]: Constants.CLASSES.faceQuestion,\r\n      [MAP.FACE.LOCK]: Constants.CLASSES.faceLock,\r\n      [MAP.FACE.CRY]: Constants.CLASSES.faceCry,\r\n      [MAP.FACE.SMILE]: Constants.CLASSES.faceSmile,\r\n    };\r\n\r\n    // 加载图标\r\n    if (this.config.icon === MAP.FACE.LOADING) {\r\n      return Util.sprintf(Constants.HTML.dialogLoadIcon, animClass);\r\n    }\r\n\r\n    const faceClassName =\r\n      faceClassNameMap[this.config.icon] || faceClassNameMap[MAP.FACE.TIPS];\r\n    return Util.sprintf(Constants.HTML.faceIcon, faceClassName);\r\n  }\r\n\r\n  // 获取加载层图标\r\n  #getLoadingIcon(animClass) {\r\n    const loadingIconsMap = {\r\n      [MAP.LOADING_ICON.BALL_SPIN]: Constants.CLASSES.iconLoading,\r\n      [MAP.LOADING_ICON.BALL_CLIP_ROTATE_GRAY]: Constants.CLASSES.iconLoading1,\r\n      [MAP.LOADING_ICON.BALL_CLIP_ROTATE_BLUE]: Constants.CLASSES.iconLoading2,\r\n    };\r\n\r\n    if (this.config.icon === 2) {\r\n      return Util.sprintf(\r\n        `<div class=\"%s \"%s\"></div>`,\r\n        loadingIconsMap[MAP.LOADING_ICON.BALL_CLIP_ROTATE_BLUE],\r\n        animClass\r\n      );\r\n    }\r\n    const iconClass =\r\n      loadingIconsMap[this.config.icon] ||\r\n      loadingIconsMap[MAP.LOADING_ICON.BALL_SPIN];\r\n\r\n    return Util.sprintf(Constants.HTML.loadIcon, iconClass, animClass);\r\n  }\r\n}\r\n\r\nexport default HTMLGenerator;\r\n","import $ from \"jquery\";\r\nimport Constants, { MAP } from \"./constants/index\";\r\n\r\n// tips定位的逻辑单独抽离成一个类\r\nclass TipsLocation {\r\n  tipLeft = 0;\r\n  tipTop = 0;\r\n\r\n  constructor(follow, config, layero) {\r\n    this.follow = follow;\r\n    this.config = config;\r\n    this.layero = layero;\r\n\r\n    // 成员变量\r\n    this.width = follow.outerWidth();\r\n    this.height = follow.outerHeight();\r\n    this.top = follow.offset().top;\r\n    this.left = follow.offset().left;\r\n\r\n    // 背景色\r\n    this.tipColor = config.tips[1];\r\n\r\n    this.layeroouterHeight = layero.outerHeight();\r\n    this.layeroOuterWidth = layero.outerWidth();\r\n    // 方位\r\n    this.guide = config.tips[0];\r\n  }\r\n\r\n  // 更新箭头类\r\n  #updateArrow(position) {\r\n    const arrowClass = {\r\n      T: Constants.CLASSES.layerTipsT,\r\n      R: Constants.CLASSES.layerTipsR,\r\n      B: Constants.CLASSES.layerTipsB,\r\n      L: Constants.CLASSES.layerTipsL,\r\n    };\r\n\r\n    // 边框的方位\r\n    const borderPosition =\r\n      position === \"T\" || position === \"B\" ? \"right\" : \"bottom\";\r\n\r\n    this.layero\r\n      .find(`.${Constants.CLASSES.layerTipsG}`)\r\n      .removeClass(Object.values(arrowClass).join(\" \"))\r\n      .addClass(arrowClass[position])\r\n      .css(`border-${borderPosition}-color`, this.tipColor);\r\n  }\r\n\r\n  #autoAdjustLeft() {\r\n    this.tipLeft =\r\n      this.left + this.layeroOuterWidth > $(window).width()\r\n        ? this.left + this.width - this.layeroOuterWidth\r\n        : this.left;\r\n  }\r\n  // Public API\r\n  // 设置箭头位置\r\n  setupArrowPosition(guide) {\r\n    // 基于导向的箭头位置\r\n    const arrowPositions = {\r\n      [MAP.TIPS_DIRECTION.TOP]: () => {\r\n        this.#autoAdjustLeft();\r\n\r\n        this.tipTop = this.top - this.layeroouterHeight - 10;\r\n\r\n        this.#updateArrow(\"T\");\r\n      },\r\n      [MAP.TIPS_DIRECTION.RIGHT]: () => {\r\n        this.tipLeft = this.left + this.width + 10;\r\n        this.tipTop = Math.max(\r\n          this.top - (this.height * 0.75 < 21 ? 21 - this.height * 0.5 : 0),\r\n          0\r\n        );\r\n        this.#updateArrow(\"R\");\r\n      },\r\n      [MAP.TIPS_DIRECTION.BOTTOM]: () => {\r\n        this.#autoAdjustLeft();\r\n        this.tipTop = this.top + this.height + 10;\r\n        this.#updateArrow(\"B\");\r\n      },\r\n      [MAP.TIPS_DIRECTION.LEFT]: () => {\r\n        this.tipLeft = this.left - this.layeroOuterWidth - 10;\r\n        this.tipTop = Math.max(\r\n          this.top - (this.height * 0.75 < 21 ? 21 - this.height * 0.5 : 0),\r\n          0\r\n        );\r\n        this.#updateArrow(\"L\");\r\n      },\r\n    };\r\n\r\n    arrowPositions[guide || this.guide](); // 应用初始箭头位置\r\n  }\r\n\r\n  // 溢出的情况调整\r\n  overflowAdjustment() {\r\n    // 调整溢流或屏幕边缘情况\r\n    const windowHeight = $(window).height();\r\n    const windowWidth = $(window).width();\r\n    const scrollTop = $(window).scrollTop();\r\n    // 8*2为小三角形占据的空间\r\n    const triangle = 2 * 8;\r\n\r\n    const overflowAdjustments = {\r\n      [MAP.TIPS_DIRECTION.TOP]: () => {\r\n        if (this.top - (scrollTop + this.layeroouterHeight + triangle) < 0) {\r\n          this.setupArrowPosition(3);\r\n        }\r\n      },\r\n      [MAP.TIPS_DIRECTION.RIGHT]: () => {\r\n        if (\r\n          windowWidth -\r\n            (this.left + this.width + this.layeroOuterWidth + triangle) <\r\n          0\r\n        ) {\r\n          this.setupArrowPosition(4);\r\n        }\r\n      },\r\n      [MAP.TIPS_DIRECTION.BOTTOM]: () => {\r\n        if (\r\n          this.top +\r\n            this.height +\r\n            this.layeroouterHeight +\r\n            triangle -\r\n            windowHeight >\r\n          0\r\n        ) {\r\n          this.setupArrowPosition(1);\r\n        }\r\n      },\r\n      [MAP.TIPS_DIRECTION.LEFT]: () => {\r\n        if (this.layeroOuterWidth + triangle > this.left) {\r\n          this.setupArrowPosition(2);\r\n        }\r\n      },\r\n    };\r\n\r\n    overflowAdjustments[this.guide]();\r\n  }\r\n  updatePosition() {\r\n    this.layero.css({\r\n      left: this.tipLeft - (this.config.fixed ? $(window).scrollLeft() : 0),\r\n      top: this.tipTop - (this.config.fixed ? $(window).scrollTop() : 0),\r\n    });\r\n  }\r\n}\r\n\r\nexport default TipsLocation;\r\n","import { shared } from \"./shared\";\r\nimport Constants, { MAP } from \"./constants\";\r\nimport Util from \"./util\";\r\n\r\nclass EventBinder {\r\n  // 传递的参数为容器实例\r\n  constructor(container) {\r\n    // 容器对象\r\n    this.container = container;\r\n    // layer对象\r\n    this.layer = this.container.layer;\r\n    // 配置\r\n    this.config = this.container.config;\r\n    // layer弹出层的jq对象\r\n    this.layero = this.container.layero;\r\n\r\n    this.index = this.container.index;\r\n\r\n    // 遮罩层\r\n    this.shadeo = this.container.shadeo;\r\n\r\n    this.bind();\r\n  }\r\n\r\n  bind() {\r\n    console.log(\"EventBinder\");\r\n\r\n    // 置顶当前窗口\r\n    shared.zIndex = this.config.zIndex;\r\n\r\n    const executeSuccess = () => {\r\n      if (this.config.success) {\r\n        this.config.success(this.layero, this.index, this.container);\r\n      }\r\n    };\r\n\r\n    if (this.config.type === MAP.TYPE.IFRAME) {\r\n      this.layero.find(\"iframe\").on(\"load\", executeSuccess);\r\n    } else {\r\n      executeSuccess();\r\n    }\r\n\r\n    // 按钮事件绑定\r\n    this.handleButtonEvents();\r\n\r\n    // 右上角关闭按钮\r\n    this.winClose();\r\n\r\n    // 遮罩层点击关闭处理\r\n    this.shadeClose();\r\n\r\n    // 最小化\r\n    this.winMin();\r\n\r\n    // 全屏/还原\r\n    this.fullscreenToggle();\r\n\r\n    // 弹层被关闭且销毁后的回调函数\r\n    if (this.config.end) {\r\n      shared.end[this.index] = this.config.end;\r\n    }\r\n\r\n    // 弹层被关闭前的回调函数。如果返回 false 或者 Promise.reject，将会取消关闭操作\r\n    if (this.config.beforeEnd) {\r\n      shared.beforeEnd[this.index] = this.config.beforeEnd.bind(\r\n        this.config,\r\n        this.layero,\r\n        this.index,\r\n        this.container\r\n      );\r\n    }\r\n  }\r\n\r\n  handleButtonEvents() {\r\n    let that = this;\r\n\r\n    this.layero\r\n      .find(`.${Constants.CLASSES.layerBtn}`)\r\n      .children(\"a\")\r\n      .on(\"click\", function () {\r\n        const btnElem = $(this);\r\n\r\n        // 按钮的索引层\r\n        const btnIndex = btnElem.index();\r\n\r\n        if (btnElem.attr(\"disabled\")) return;\r\n\r\n        if (that.config.btnAsync) {\r\n          console.log(\"异步按钮\");\r\n\r\n          that.handleAsyncButton(btnElem, btnIndex);\r\n        } else {\r\n          that.handleNormalButton(btnIndex);\r\n        }\r\n      });\r\n  }\r\n\r\n  handleNormalButton(btnIndex) {\r\n    //第一个按钮\r\n    if (btnIndex === 0) {\r\n      // 定义关闭层的默认函数\r\n      const defaultClose = () => {\r\n        this.layer.close(this.index);\r\n      };\r\n\r\n      // 获取优先执行的函数\r\n      const yesCallback =\r\n        this.config.yes || this.config[`btn${btnIndex + 1}`] || defaultClose;\r\n\r\n      // 执行获取的回调函数\r\n      yesCallback(this.index, this.layero, this.container);\r\n    } else {\r\n      // 获取对应的按钮回调函数\r\n      const btnCallback = this.config[`btn${btnIndex + 1}`];\r\n\r\n      // 如果回调函数存在，则执行\r\n      let close;\r\n      if (btnCallback) {\r\n        close = btnCallback(this.index, this.layero, this.container);\r\n      }\r\n\r\n      // 如果回调函数的返回值不是 false，则关闭弹出层\r\n      if (close !== false) {\r\n        this.layer.close(this.index);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleAsyncButton(btnElem, btnIndex) {\r\n    let btnCallback;\r\n    if (btnIndex === 0) {\r\n      // 如果是第一个按钮，优先使用 config.yes，否则使用 config[\"btn1\"]\r\n      btnCallback = this.config.yes || this.config[`btn${btnIndex + 1}`];\r\n    } else {\r\n      // 其他按钮按顺序获取\r\n      btnCallback = this.config[`btn${btnIndex + 1}`];\r\n    }\r\n\r\n    // 给成员变量赋值\r\n    this.container.$btnElem = btnElem;\r\n\r\n    if (btnCallback) {\r\n      Util.promiseLikeResolve(\r\n        btnCallback.call(this.config, this.index, this.layero, this.container)\r\n      ).then(\r\n        (result) => {\r\n          if (result !== false) {\r\n            this.layer.close(this.index);\r\n          }\r\n        },\r\n        (reason) => {\r\n          reason !== undefined && console.error(\"layer error hint: \" + reason);\r\n        }\r\n      );\r\n    } else {\r\n      this.layer.close(this.index);\r\n    }\r\n  }\r\n\r\n  winClose() {\r\n    this.layero.find(`.${Constants.CLASSES.layerClose}`).on(\"click\", () => {\r\n      let cancelCallback =\r\n        this.config.cancel &&\r\n        this.config.cancel(this.index, this.layero, this.container);\r\n\r\n      if (cancelCallback !== false) {\r\n        this.layer.close(this.index);\r\n      }\r\n    });\r\n  }\r\n\r\n  shadeClose() {\r\n    // 点击遮罩关闭\r\n    if (this.config.shadeClose) {\r\n      this.shadeo.on(\"click\", () => {\r\n        this.layer.close(this.index);\r\n      });\r\n    }\r\n  }\r\n\r\n  winMin() {\r\n    this.layero.find(`.${Constants.CLASSES.layerMin}`).on(\"click\", () => {\r\n      let callback =\r\n        this.config.min &&\r\n        this.config.min(this.layero, this.index, this.container);\r\n\r\n      if (callback !== false) {\r\n        this.layer.min(this.index, this.config);\r\n      }\r\n    });\r\n  }\r\n\r\n  fullscreenToggle() {\r\n    this.layero.find(`.${Constants.CLASSES.layerMax}`).on(\"click\", () => {\r\n      \r\n      \r\n      const maxButton = this.layero.find(`.${Constants.CLASSES.layerMax}`);\r\n\r\n      if (maxButton.hasClass(Constants.CLASSES.layerMaxMin)) {\r\n        this.layer.restore(this.index);\r\n\r\n        this.config.restore &&\r\n          this.config.restore(this.layero, this.index, this.container);\r\n      } else {\r\n        this.layer.full(this.index, this.config);\r\n\r\n        setTimeout(() => {\r\n          this.config.full &&\r\n            this.config.full(this.layero, this.index, this.container);\r\n        }, 100);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default EventBinder;\r\n","import $ from \"jquery\";\r\nimport { isString, isObject, isArray } from \"is-what\";\r\nimport { shared } from \"./shared\";\r\nimport Constants, { MAP } from \"./constants/index\";\r\nimport Util from \"./util\";\r\nimport HTMLGenerator from \"./HTMLGenerator\";\r\nimport TipsLocation from \"./TipsLocation\";\r\nimport EventBinder from \"./EventBinder\";\r\n\r\nclass Container {\r\n  //成员变量\r\n  config;\r\n  // 弹层dom的jq对象\r\n  layero;\r\n  // 遮罩层jq对象\r\n  shadeo;\r\n  // 弹层的外部宽度(包括填充、边框和可选边距)\r\n  layeroOuterWidth;\r\n  // 外部高度\r\n  layeroouterHeight;\r\n  // 保存当前实例的index\r\n\r\n  index;\r\n\r\n  // 拖拽的元素\r\n  $moveEl;\r\n\r\n  // 当前被点击的按钮的dom对象,例如，信息框底部的按钮\r\n  $btnElem;\r\n\r\n  constructor(options, layer) {\r\n    // 最新的索引自增\r\n    ++shared.index;\r\n\r\n    this.index = shared.index;\r\n\r\n    // layer对象\r\n    this.layer = layer;\r\n    // 合并配置\r\n    this.config = $.extend(\r\n      {},\r\n      Constants.DEFAULTS,\r\n      shared.config,\r\n      { maxWidth: $(window).width() - 15 * 2 },\r\n      options\r\n    );\r\n\r\n    // body是否准备完毕,完毕直接调用，没有就延迟30毫秒\r\n    this.initContainer();\r\n  }\r\n\r\n  //创建容器\r\n  initContainer() {\r\n    // 若 id 对应的弹层已经存在，则不重新创建 layui-layer\r\n    if (\r\n      this.config.id &&\r\n      $(`.${Constants.CLASSES.layuiLayer}`).find(`#${this.config.id}`)[0]\r\n    ) {\r\n      console.log(\"没有创建\");\r\n    }\r\n\r\n    // 是否移除活动元素的焦点\r\n    if (this.config.removeFocus && document.activeElement) {\r\n      document.activeElement.blur(); // 将原始的聚焦节点失焦\r\n    }\r\n\r\n    this.initAreaOption();\r\n\r\n    this.adjustLayerSettings();\r\n\r\n    // 使用类来生成字符串\r\n    const htmlGenerator = new HTMLGenerator(this.config, this.index);\r\n    const html = htmlGenerator.getContainerHTML();\r\n\r\n    // 加入遮罩层\r\n    $(\"body\").append(htmlGenerator.getShadeHTML());\r\n\r\n    console.log(this.config.content);\r\n\r\n    // 判断content选项是对象\r\n    if (isObject(this.config.content)) {\r\n      if (\r\n        this.config.type == MAP.TYPE.IFRAME ||\r\n        this.config.type == MAP.TYPE.TIPS\r\n      ) {\r\n        $(\"body\").append(html);\r\n      } else {\r\n        if (\r\n          !this.config.content.parents(`.${Constants.CLASSES.layuiLayer}`)[0]\r\n        ) {\r\n          this.config.content\r\n            .data(\"display\", this.config.content.css(\"display\"))\r\n            .show()\r\n            .addClass(Constants.CLASSES.layerWrap)\r\n            .wrap(html);\r\n\r\n          $(`#${Constants.CLASSES.layuiLayer}${this.index}`)\r\n            .find(`.${Constants.CLASSES.layerContent}`)\r\n            .before(htmlGenerator.getTtitleHTML());\r\n        }\r\n      }\r\n    } else {\r\n      $(\"body\").append(html);\r\n    }\r\n\r\n    this.$moveEl = $(\r\n      Util.sprintf(\r\n        Constants.HTML.move,\r\n        Constants.CLASSES.move,\r\n        Constants.CLASSES.move\r\n      )\r\n    );\r\n    $(`#${Constants.CLASSES.move}`)[0] || $(\"body\").append(this.$moveEl);\r\n\r\n    // 保存为成员变量,方便后续使用\r\n    this.layero = Util.getLayeroByIndex(this.index);\r\n    this.shadeo = Util.getShadeoByIndex(this.index);\r\n\r\n    this.layeroOuterWidth = this.layero.outerWidth();\r\n    this.layeroouterHeight = this.layero.outerHeight();\r\n\r\n    this.config.scrollbar || Util.setScrollbar(this.index);\r\n\r\n    // 设置弹出框的高度\r\n    this.auto();\r\n\r\n    //遮罩\r\n    this.shadeoHandle();\r\n\r\n    if (this.config.type == MAP.TYPE.TIPS) {\r\n      //tips层，调用tips的方法\r\n      this.tips();\r\n    } else {\r\n      // 坐标自适应浏览器窗口尺寸\r\n      this.offset();\r\n\r\n      // 获取拖拽层的元素堆叠索引\r\n      const movezIndex = parseInt(\r\n        Util.getStyle(\r\n          document.getElementById(Constants.CLASSES.move),\r\n          \"z-index\"\r\n        )\r\n      );\r\n\r\n      if (!movezIndex) {\r\n        this.layero\r\n          .css(\"visibility\", \"hidden\")\r\n          .offset()\r\n          .css(\"visibility\", \"visible\");\r\n      }\r\n    }\r\n\r\n    //若是固定定位，则跟随 resize 事件来自适应坐标\r\n    if (this.config.fixed) {\r\n      if (!shared.events.resize[this.index]) {\r\n        //如果当前实例对应的resize事件没有设置\r\n\r\n        shared.events.resize[this.index] = () => {\r\n          // 调用 offset 方法\r\n          this.offset();\r\n\r\n          // 判断 area 是否为百分比格式，如果是则调用 auto 方法\r\n          const isPercentage = this.config.area.some((area) =>\r\n            /^\\d+%$/.test(area)\r\n          );\r\n          if (isPercentage) this.auto(this.index);\r\n\r\n          // 如果类型为 4，调用 tips 方法\r\n          if (this.config.type === MAP.TYPE.TIPS) this.tips();\r\n        };\r\n\r\n        // 此处 resize 事件不会一直叠加，当关闭弹层时会移除该事件\r\n        $(window).on(\"resize\", shared.events.resize[this.index]);\r\n      }\r\n    }\r\n\r\n    this.config.time <= 0 ||\r\n      setTimeout(() => {\r\n        this.layer.close(this.index);\r\n      }, this.config.time);\r\n\r\n    // 拖拽处理\r\n    this.move();\r\n\r\n    // 事件绑定,这里用类的方式来实现，比较友好\r\n    new EventBinder(this);\r\n\r\n    // 设置动画\r\n    this.setAnim(this.layero);\r\n\r\n    // 记录配置信息\r\n    this.layero.data(\"config\", this.config);\r\n  }\r\n\r\n  // 设置动画\r\n  setAnim(layero) {\r\n    // anim 兼容旧版 shift\r\n    if (this.config.shift) {\r\n      this.config.anim = this.config.shift;\r\n    }\r\n\r\n    const animationClassMap = {\r\n      0: Constants.CLASSES.layerAnim0,\r\n      1: Constants.CLASSES.layerAnim1,\r\n      2: Constants.CLASSES.layerAnim2,\r\n      3: Constants.CLASSES.layerAnim3,\r\n      4: Constants.CLASSES.layerAnim4,\r\n      5: Constants.CLASSES.layerAnim5,\r\n      6: Constants.CLASSES.layerAnim6,\r\n      slideDown: Constants.CLASSES.animSlideDown,\r\n      slideLeft: Constants.CLASSES.animSlideLeft,\r\n      slideUp: Constants.CLASSES.animSlideUp,\r\n      slideRight: Constants.CLASSES.animSlideRight,\r\n    };\r\n\r\n    const animationClass = animationClassMap[this.config.anim];\r\n    if (!animationClass) return;\r\n\r\n    // 为兼容 jQuery3.0 的 css 动画影响元素尺寸计算\r\n    const animationFullClass = `${Constants.CLASSES.layerAnim} ${animationClass}`;\r\n\r\n    layero.addClass(animationFullClass).one(\"animationend\", () => {\r\n      layero.removeClass(animationFullClass);\r\n    });\r\n  }\r\n\r\n  // 设置弹出框的高度和宽度(弹出框的位置)\r\n  auto() {\r\n    if (this.config.area[0] === \"\" && this.config.maxWidth > 0) {\r\n      this.layeroOuterWidth > this.config.maxWidth &&\r\n        this.layero.width(this.config.maxWidth);\r\n    }\r\n\r\n    const layeroInnerHeight = this.layero.innerHeight();\r\n\r\n    if (this.config.type === MAP.TYPE.IFRAME) {\r\n      this.setHeight(\"iframe\");\r\n    } else {\r\n      if (this.config.area[1] === \"\") {\r\n        if (\r\n          this.config.maxHeight > 0 &&\r\n          this.layero.outerHeight() > this.config.maxHeight\r\n        ) {\r\n          layeroInnerHeight = this.config.maxHeight;\r\n          this.setHeight(`.${Constants.CLASSES.layerContent}`);\r\n        } else if (\r\n          this.config.fixed &&\r\n          layeroInnerHeight >= $(window).height()\r\n        ) {\r\n          layeroInnerHeight = $(window).height();\r\n          this.setHeight(`.${Constants.CLASSES.layerContent}`);\r\n        }\r\n      } else {\r\n        this.setHeight(`.${Constants.CLASSES.layerContent}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  setHeight(selector) {\r\n    //标题的高度\r\n    const titHeight =\r\n      this.layero.find(`.${Constants.CLASSES.layerTitle}`).outerHeight() || 0;\r\n    // 按钮的高度\r\n    const btnHeight =\r\n      this.layero.find(`.${Constants.CLASSES.layerBtn}`).outerHeight() || 0;\r\n\r\n    const elem = this.layero.find(selector);\r\n\r\n    const elempaddingTop = parseFloat(elem.css(\"padding-top\")) | 0;\r\n\r\n    elem.height(\r\n      this.layero.innerHeight() - titHeight - btnHeight - 2 * elempaddingTop\r\n    );\r\n  }\r\n\r\n  // 根据不同的弹出层类型处理一些设置\r\n  adjustLayerSettings() {\r\n    const typeMap = {\r\n      // dialog\r\n      [MAP.TYPE.DIALOG]: () => {\r\n        this.config.btn =\r\n          \"btn\" in this.config ? this.config.btn : shared.btn[0];\r\n        this.layer.closeAll(MAP.TYPE_NAME[MAP.TYPE.DIALOG]);\r\n      },\r\n      // iframe\r\n      [MAP.TYPE.IFRAME]: () => {\r\n        // console.log(\"www\");\r\n        // 转换成数组\r\n\r\n        this.config.content = isArray(this.config.content)\r\n          ? this.config.content\r\n          : [this.config.content || \"\", \"auto\"];\r\n\r\n        //重新赋值的操作\r\n\r\n        // layui-layer-iframe\r\n        this.config.content = Util.sprintf(\r\n          Constants.HTML.iframe,\r\n          this.config.content[1] || \"auto\",\r\n          Constants.CLASSES.layerIFrame,\r\n          Constants.CLASSES.layerIFrame,\r\n          this.config.content[0]\r\n        );\r\n      },\r\n      // loading\r\n      [MAP.TYPE.LOADING]: () => {\r\n        delete this.config.title;\r\n        delete this.config.closeBtn;\r\n        this.config.icon === -1 && this.config.icon === 0;\r\n        this.layer.closeAll(MAP.TYPE_NAME[MAP.TYPE.LOADING]);\r\n      },\r\n      // tips\r\n      [MAP.TYPE.TIPS]: () => {\r\n        this.config.content = isArray(this.config.content)\r\n          ? this.config.content\r\n          : [this.config.content, \"body\"];\r\n\r\n        this.config.follow = this.config.content[1];\r\n        this.config.content = `${this.config.content[0]}${Constants.HTML.tipsG}`;\r\n        delete this.config.title;\r\n        this.config.tips = isArray(this.config.tips)\r\n          ? this.config.tips\r\n          : [this.config.tips, true];\r\n        //是否允许同时存在多个 tips 层，即不销毁上一个 tips\r\n        this.config.tipsMore ||\r\n          this.layer.closeAll(MAP.TYPE_NAME[MAP.TYPE.TIPS]);\r\n      },\r\n    };\r\n\r\n    // 调用switch\r\n    typeMap[this.config.type] && typeMap[this.config.type]();\r\n  }\r\n\r\n  // 初始化area属性\r\n  initAreaOption() {\r\n    // 初始化 area 属性\r\n    if (isString(this.config.area)) {\r\n      this.config.area =\r\n        this.config.area === \"auto\" ? [\"\", \"\"] : [this.config.area, \"\"];\r\n    }\r\n  }\r\n\r\n  // 拖拽层\r\n  move() {\r\n    let that = this;\r\n    let DATA_NAME = [\"LAY_MOVE_DICT\", \"LAY_RESIZE_DICT\"];\r\n    let moveElem = this.layero.find(this.config.move);\r\n    let resizeElem = this.layero.find(`.${Constants.CLASSES.layerResize}`);\r\n\r\n    // 给指定元素添加拖动光标\r\n    if (this.config.move) moveElem.css(\"cursor\", \"move\");\r\n\r\n    // 按下拖动元素\r\n    moveElem.on(\"mousedown\", function (event) {\r\n      if (event.button) {\r\n        return;\r\n      } // 不是左键不处理\r\n      let othis = $(this);\r\n      let dict = {};\r\n\r\n      console.log(\"mousedown\");\r\n\r\n      if (that.config.move) {\r\n        dict.layero = that.layero;\r\n        dict.config = that.config;\r\n        dict.offset = [\r\n          event.clientX - parseFloat(that.layero.css(\"left\")),\r\n          event.clientY - parseFloat(that.layero.css(\"top\")),\r\n        ];\r\n\r\n        othis.data(DATA_NAME[0], dict);\r\n        // 把拖拽元素的实例绑定到eventMoveElem\r\n        shared.eventMoveElem = othis;\r\n\r\n        that.$moveEl.css(\"cursor\", \"move\").show();\r\n      }\r\n\r\n      event.preventDefault();\r\n    });\r\n\r\n    // 按下右下角拉伸\r\n    resizeElem.on(\"mousedown\", function (event) {\r\n      const $this = $(this);\r\n\r\n      if (that.config.resize) {\r\n        // 把数据绑定到拖动元素上\r\n        $this.data(DATA_NAME[1], {\r\n          layero: that.layero,\r\n          config: that.config,\r\n          offset: [event.clientX, event.clientY],\r\n          index: that.index,\r\n          area: [that.layeroOuterWidth, that.layeroouterHeight],\r\n        });\r\n        shared.eventResizeElem = $this;\r\n\r\n        that.$moveEl.css(\"cursor\", \"se-resize\").show();\r\n      }\r\n\r\n      event.preventDefault();\r\n    });\r\n\r\n    // 拖动元素，避免多次调用实例造成事件叠加\r\n    if (shared.docEvent) return;\r\n    $(document).on(\"mousemove\", function (event) {\r\n      // 拖拽移动，如果eventMoveElem有值,说明拖拽的dom已经被鼠标左键按下过\r\n      if (shared.eventMoveElem) {\r\n        // 从拖动元素中把存储的数据取出来\r\n        let dict = shared.eventMoveElem.data(DATA_NAME[0]) || {};\r\n        let layero = dict.layero;\r\n        let config = dict.config;\r\n\r\n        let X = event.clientX - dict.offset[0];\r\n        let Y = event.clientY - dict.offset[1];\r\n        let fixed = layero.css(\"position\") === \"fixed\";\r\n        event.preventDefault();\r\n\r\n        dict.stX = fixed ? 0 : $(window).scrollLeft();\r\n        dict.stY = fixed ? 0 : $(window).scrollTop();\r\n        // 控制元素不被拖出窗口外\r\n        if (!config.moveOut) {\r\n          let setRig = $(window).width() - layero.outerWidth() + dict.stX;\r\n          let setBot = $(window).height() - layero.outerHeight() + dict.stY;\r\n          X < dict.stX && (X = dict.stX);\r\n          X > setRig && (X = setRig);\r\n          Y < dict.stY && (Y = dict.stY);\r\n          Y > setBot && (Y = setBot);\r\n        }\r\n        // 拖动时跟随鼠标位置\r\n        layero.css({\r\n          left: X,\r\n          top: Y,\r\n        });\r\n      }\r\n\r\n      // Resize\r\n      if (shared.eventResizeElem) {\r\n        let dict = shared.eventResizeElem.data(DATA_NAME[1]) || {};\r\n        let config = dict.config;\r\n\r\n        let X = event.clientX - dict.offset[0];\r\n        let Y = event.clientY - dict.offset[1];\r\n\r\n        event.preventDefault();\r\n\r\n        // 拉伸宽高\r\n        that.layer.style(dict.index, {\r\n          width: dict.area[0] + X,\r\n          height: dict.area[1] + Y,\r\n        });\r\n\r\n        config.resizing && config.resizing(dict.layero);\r\n      }\r\n    });\r\n\r\n    // 左键放开\r\n    $(document).on(\"mouseup\", function () {\r\n      if (shared.eventMoveElem) {\r\n        let dict = shared.eventMoveElem.data(DATA_NAME[0]) || {};\r\n        let config = dict.config;\r\n\r\n        shared.eventMoveElem.removeData(DATA_NAME[0]);\r\n        delete shared.eventMoveElem;\r\n\r\n        that.$moveEl.hide();\r\n        config.moveEnd && config.moveEnd(dict.layero);\r\n      }\r\n      if (shared.eventResizeElem) {\r\n        shared.eventResizeElem.removeData(DATA_NAME[1]);\r\n        delete shared.eventResizeElem;\r\n        that.$moveEl.hide();\r\n      }\r\n    });\r\n\r\n    shared.docEvent = true; // 已给 document 执行全局事件\r\n  }\r\n\r\n  tips() {\r\n    const follow = $(this.config.follow)[0] ? $(this.config.follow) : $(\"body\");\r\n\r\n    //follow, config, layero\r\n    const tipsLocation = new TipsLocation(follow, this.config, this.layero);\r\n\r\n    // 初始化箭头位置\r\n    tipsLocation.setupArrowPosition();\r\n\r\n    // 调整溢流或屏幕边缘情况\r\n    tipsLocation.overflowAdjustment();\r\n\r\n    // 更新位置\r\n    tipsLocation.updatePosition();\r\n\r\n    // 更新内容的样式\r\n    this.layero.find(`.${Constants.CLASSES.layerContent}`).css({\r\n      \"background-color\": this.config.tips[1],\r\n      \"padding-right\": this.config.closeBtn ? \"30px\" : \"\",\r\n    });\r\n  }\r\n\r\n  // 遮罩处理\r\n  shadeoHandle() {\r\n    // 遮罩\r\n    this.shadeo.css({\r\n      \"background-color\": this.config.shade[1] || \"#000\",\r\n      opacity: this.config.shade[0] || this.config.shade,\r\n      transition: this.config.shade[2] || \"\",\r\n    });\r\n    this.shadeo.data(\r\n      Constants.DATAKEY.SHADE_KEY,\r\n      this.config.shade[0] || this.config.shade\r\n    );\r\n  }\r\n\r\n  // 给按钮前方添加loading效果\r\n  loading(isLoading) {\r\n    if (isLoading) {\r\n      let loadingTpl =\r\n        '<i class=\"layui-layer-btn-loading-icon layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop\"></i>';\r\n      if (this.$btnElem.find(\".layui-layer-btn-loading-icon\")[0]) return;\r\n      this.$btnElem\r\n        .addClass(\"layui-layer-btn-is-loading\")\r\n        .attr({ disabled: \"\" })\r\n        .prepend(loadingTpl);\r\n    } else {\r\n      this.$btnElem\r\n        .removeClass(\"layui-layer-btn-is-loading\")\r\n        .removeAttr(\"disabled\")\r\n        .find(\".layui-layer-btn-loading-icon\")\r\n        .remove();\r\n    }\r\n  }\r\n\r\n  //==============公开api===================\r\n  // 计算坐标\r\n  offset() {\r\n    let that = this,\r\n      config = that.config,\r\n      layero = that.layero;\r\n    let area = [layero.outerWidth(), layero.outerHeight()];\r\n\r\n    let type = isArray(config.offset);\r\n    that.offsetTop = ($(window).height() - area[1]) / 2;\r\n    that.offsetLeft = ($(window).width() - area[0]) / 2;\r\n\r\n    if (type) {\r\n      that.offsetTop = config.offset[0];\r\n      that.offsetLeft = config.offset[1] || that.offsetLeft;\r\n    } else if (config.offset !== \"auto\") {\r\n      if (config.offset === \"t\") {\r\n        // 上\r\n        that.offsetTop = 0;\r\n      } else if (config.offset === \"r\") {\r\n        // 右\r\n        that.offsetLeft = $(window).width() - area[0];\r\n      } else if (config.offset === \"b\") {\r\n        // 下\r\n        that.offsetTop = $(window).height() - area[1];\r\n      } else if (config.offset === \"l\") {\r\n        // 左\r\n        that.offsetLeft = 0;\r\n      } else if (config.offset === \"lt\") {\r\n        // 左上\r\n        that.offsetTop = 0;\r\n        that.offsetLeft = 0;\r\n      } else if (config.offset === \"lb\") {\r\n        // 左下\r\n        that.offsetTop = $(window).height() - area[1];\r\n        that.offsetLeft = 0;\r\n      } else if (config.offset === \"rt\") {\r\n        // 右上\r\n        that.offsetTop = 0;\r\n        that.offsetLeft = $(window).width() - area[0];\r\n      } else if (config.offset === \"rb\") {\r\n        // 右下\r\n        that.offsetTop = $(window).height() - area[1];\r\n        that.offsetLeft = $(window).width() - area[0];\r\n      } else {\r\n        that.offsetTop = config.offset;\r\n      }\r\n    }\r\n\r\n    if (!config.fixed) {\r\n      that.offsetTop = /%$/.test(that.offsetTop)\r\n        ? ($(window).height() * parseFloat(that.offsetTop)) / 100\r\n        : parseFloat(that.offsetTop);\r\n      that.offsetLeft = /%$/.test(that.offsetLeft)\r\n        ? ($(window).width() * parseFloat(that.offsetLeft)) / 100\r\n        : parseFloat(that.offsetLeft);\r\n      that.offsetTop += $(window).scrollTop();\r\n      that.offsetLeft += $(window).scrollLeft();\r\n    }\r\n\r\n    // 最小化窗口时的自适应\r\n    if (layero.data(\"maxminStatus\") === \"min\") {\r\n      that.offsetTop =\r\n        $(window).height() - (layero.find(doms[1]).outerHeight() || 0);\r\n      that.offsetLeft = layero.css(\"left\");\r\n    }\r\n\r\n    // 设置坐标\r\n    layero.css({\r\n      top: that.offsetTop,\r\n      left: that.offsetLeft,\r\n    });\r\n  }\r\n}\r\n\r\nexport default Container;\r\n","import Util from \"./util\";\r\nimport { isFunction } from \"is-what\";\r\nimport Constants, { MAP } from \"./constants\";\r\nimport { shared } from \"./shared\";\r\n\r\nclass Closer {\r\n  constructor(index, callback) {\r\n    this.index = index;\r\n    this.callback = callback;\r\n    this.layero = this.getLayero();\r\n    this.type = this.layero.attr(\"type\");\r\n    this.options = this.layero.data(\"config\") || {};\r\n    this.hideOnClose = this.options.id && this.options.hideOnClose;\r\n  }\r\n\r\n  // 获取层对象\r\n  getLayero() {\r\n    const closest = $(`.${Constants.CLASSES.layuiLayer}`)\r\n      .children(`#${this.index}`)\r\n      .closest(`.${Constants.CLASSES.layuiLayer}`);\r\n\r\n    return closest[0]\r\n      ? closest\r\n      : $(`#${Constants.CLASSES.layuiLayer}${this.index}`);\r\n  }\r\n\r\n  // 执行关闭操作\r\n  execute() {\r\n    if (!this.layero[0]) return;\r\n\r\n    if (!this.hideOnClose && isFunction(shared.beforeEnd[this.index])) {\r\n      Util.promiseLikeResolve(shared.beforeEnd[this.index]()).then(\r\n        (result) => {\r\n          if (result !== false) {\r\n            delete shared.beforeEnd[this.index];\r\n            this.executeClose();\r\n          }\r\n        },\r\n        (reason) => {\r\n          reason !== undefined &&\r\n            window.console &&\r\n            window.console.error(\"layer error hint: \" + reason);\r\n        }\r\n      );\r\n    } else {\r\n      delete shared.beforeEnd[this.index];\r\n      this.executeClose();\r\n    }\r\n  }\r\n\r\n  // 执行关闭细节\r\n  executeClose() {\r\n    this.closeShade();\r\n    this.removeLayer();\r\n    Util.restScrollbar(this.index);\r\n    this.callback && this.callback();\r\n  }\r\n\r\n  // 关闭遮罩\r\n  closeShade() {\r\n    let shadeo = $(`#${Constants.CLASSES.shade}${this.index}`);\r\n    if (!this.options.isOutAnim) {\r\n      shadeo[this.hideOnClose ? \"hide\" : \"remove\"]();\r\n    } else {\r\n      shadeo.css({ opacity: 0 });\r\n      setTimeout(() => shadeo[this.hideOnClose ? \"hide\" : \"remove\"](), 350);\r\n    }\r\n  }\r\n\r\n  // 移除层及相关事件\r\n  removeLayer() {\r\n    const closeAnim =\r\n      {\r\n        slideDown: Constants.CLASSES.animSlideDownOut,\r\n        slideLeft: Constants.CLASSES.animSlideLeftOut,\r\n        slideUp: Constants.CLASSES.animSlideUpOut,\r\n        slideRight: Constants.CLASSES.animSlideRightOut,\r\n      }[this.options.anim] || Constants.CLASSES.animClose;\r\n\r\n    const closeAnimfullClass = `${Constants.CLASSES.layerAnim} ${closeAnim}`;\r\n\r\n    const remove = () => {\r\n      if (this.hideOnClose) {\r\n        this.layero.removeClass(closeAnimfullClass);\r\n        return this.layero.hide();\r\n      }\r\n\r\n      // 页面捕获层\r\n      if (\r\n        this.type === MAP.TYPE_NAME[MAP.TYPE.PAGE] &&\r\n        this.layero.attr(\"conType\") === \"object\"\r\n      ) {\r\n        this.layero\r\n          .children(`:not(.${Constants.CLASSES.layerContent})`)\r\n          .remove();\r\n        let wrap = this.layero.find(`.${Constants.CLASSES.layerWrap}`);\r\n\r\n        for (let i = 0; i < 2; i++) {\r\n          wrap.unwrap();\r\n        }\r\n\r\n        wrap\r\n          .css(\"display\", wrap.data(\"display\"))\r\n          .removeClass(Constants.CLASSES.layerWrap);\r\n      } else {\r\n        // 低版本 IE 回收 iframe\r\n        if (this.type === MAP.TYPE_NAME[MAP.TYPE.IFRAME]) {\r\n          try {\r\n            let iframe = $(`#${Constants.CLASSES.layerIFrame}${this.index}`)[0];\r\n            iframe.contentWindow.document.write(\"\");\r\n            iframe.contentWindow.close();\r\n            this.layero\r\n              .find(`.${Constants.CLASSES.layerContent}`)[0]\r\n              .removeChild(iframe);\r\n          } catch (e) {}\r\n        }\r\n        this.layero[0].innerHTML = \"\";\r\n        this.layero.remove();\r\n      }\r\n\r\n      isFunction(shared.end[this.index]) && shared.end[this.index]();\r\n      delete shared.end[this.index];\r\n\r\n      // 移除 resize 事件\r\n      if (shared.events.resize[this.index]) {\r\n        $(window).off(\"resize\", shared.events.resize[this.index]);\r\n        delete shared.events.resize[this.index];\r\n      }\r\n    };\r\n\r\n    // 是否允许关闭动画\r\n    if (this.options.isOutAnim) {\r\n      this.layero.addClass(closeAnimfullClass);\r\n      setTimeout(() => remove(), 200);\r\n    } else {\r\n      remove();\r\n    }\r\n  }\r\n}\r\n\r\nexport default Closer;\r\n","import $ from \"jquery\";\r\nimport Util from \"./util\";\r\nimport Constants, { MAP } from \"./constants/index\";\r\nimport { shared } from \"./shared\";\r\n// 测试用的类，改造完毕后就删除了\r\nimport Class from \"./class\";\r\nimport Container from \"./container\";\r\nimport Closer from \"./Closer\";\r\nimport { isString, isObject, isArray, isFunction, isNumber } from \"is-what\";\r\n\r\n// 默认内置方法。\r\nexport default {\r\n  v: Constants.VERSION,\r\n  //获取最新弹出层的层叠顺序\r\n  zIndex: shared.zIndex,\r\n  // 索引层\r\n  index: shared.index,\r\n  // 设置全局默认配置\r\n  config(options = {}) {\r\n    shared.config = $.extend({}, shared.config, options);\r\n\r\n    if (isString(options.extend)) {\r\n      options.extend = [options.extend];\r\n    }\r\n\r\n    if (!options.extend) return this; //如果选项不存在extend属性，就直接return\r\n\r\n    return this;\r\n  },\r\n  // 核心方法\r\n  open(options) {\r\n    return new Container(options, this).index;\r\n    // return new Class(options).index;\r\n  },\r\n\r\n  // 各种快捷引用\r\n  alert(content, options, yes) {\r\n    let type = isFunction(options);\r\n    if (type) yes = options;\r\n\r\n    return this.open(\r\n      $.extend(\r\n        {\r\n          content: content,\r\n          yes: yes,\r\n        },\r\n        type ? {} : options\r\n      )\r\n    );\r\n  },\r\n\r\n  confirm(content, options, yes, cancel) {\r\n    let type = isFunction(options);\r\n    if (type) {\r\n      cancel = yes;\r\n      yes = options;\r\n    }\r\n    return this.open(\r\n      $.extend(\r\n        {\r\n          content: content,\r\n          btn: shared.btn,\r\n          yes: yes,\r\n          btn2: cancel,\r\n        },\r\n        type ? {} : options\r\n      )\r\n    );\r\n  },\r\n\r\n  msg(content, options, end) {\r\n    // 最常用提示层\r\n    let type = isFunction(options);\r\n\r\n    // 源皮肤\r\n    let rskin = shared.config.skin;\r\n\r\n    const skin = rskin ? `${rskin} ${rskin}-msg` : \"layui-layer-msg\";\r\n\r\n    let anim = Constants.CLASSES.layerAnim5;\r\n\r\n    if (type) end = options;\r\n    return this.open(\r\n      $.extend(\r\n        {\r\n          content: content,\r\n          time: 3000,\r\n          shade: false,\r\n          skin: skin,\r\n          title: false,\r\n          closeBtn: false,\r\n          btn: false,\r\n          resize: false,\r\n          end: end,\r\n          removeFocus: false,\r\n        },\r\n        type && !shared.config.skin\r\n          ? {\r\n              skin: skin + \" layui-layer-hui\",\r\n              anim: anim,\r\n            }\r\n          : (function () {\r\n              options = options || {};\r\n              if (\r\n                options.icon === -1 ||\r\n                (options.icon === undefined && !shared.config.skin)\r\n              ) {\r\n                options.skin = skin + \" \" + (options.skin || \"layui-layer-hui\");\r\n              }\r\n              return options;\r\n            })()\r\n      )\r\n    );\r\n  },\r\n\r\n  style(index, options, limit) {\r\n    let layero = Util.getLayeroByIndex(index);\r\n\r\n    let contentElem = layero.find(`.${Constants.CLASSES.layerContent}`);\r\n    let type = layero.attr(\"type\");\r\n\r\n    let titHeight =\r\n      layero.find(`.${Constants.CLASSES.layerTitle}`).outerHeight() || 0;\r\n\r\n    let btnHeight =\r\n      layero.find(`.${Constants.CLASSES.layerBtn}`).outerHeight() || 0;\r\n\r\n    // loading 和 tips 层不允许更改\r\n    if (\r\n      type === MAP.TYPE_NAME[MAP.TYPE.LOADING] ||\r\n      type === MAP.TYPE_NAME[MAP.TYPE.TIPS]\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (!limit) {\r\n      if (parseFloat(options.width) <= 260) {\r\n        options.width = 260;\r\n      }\r\n\r\n      if (parseFloat(options.height) - titHeight - btnHeight <= 64) {\r\n        options.height = 64 + titHeight + btnHeight;\r\n      }\r\n    }\r\n    layero.css(options);\r\n\r\n    btnHeight =\r\n      layero.find(`.${Constants.CLASSES.layerBtn}`).outerHeight() || 0;\r\n\r\n    if (type === MAP.TYPE_NAME[MAP.TYPE.IFRAME]) {\r\n      layero.find(\"iframe\").css({\r\n        height:\r\n          (isNumber(options.height) ? options.height : layero.height()) -\r\n          titHeight -\r\n          btnHeight,\r\n      });\r\n    } else {\r\n      contentElem.css({\r\n        height:\r\n          (isNumber(options.height) ? options.height : layero.height()) -\r\n          titHeight -\r\n          btnHeight -\r\n          parseFloat(contentElem.css(\"padding-top\")) -\r\n          parseFloat(contentElem.css(\"padding-bottom\")),\r\n      });\r\n    }\r\n  },\r\n\r\n  // 给层设置标题\r\n  title(name, index) {\r\n    const $title = $(\r\n      `#${Constants.CLASSES.layuiLayer}${index || Layer.index}`\r\n    ).find(`.${Constants.CLASSES.layerTitle}`);\r\n\r\n    $title.html(name);\r\n  },\r\n\r\n  load(icon, options) {\r\n    return this.open(\r\n      $.extend(\r\n        {\r\n          type: 3,\r\n          icon: icon || 0,\r\n          resize: false,\r\n          shade: 0.01,\r\n          removeFocus: false,\r\n        },\r\n        options\r\n      )\r\n    );\r\n  },\r\n\r\n  tips(content, follow, options) {\r\n    return this.open(\r\n      $.extend(\r\n        {\r\n          type: 4,\r\n          content: [content, follow],\r\n          closeBtn: false,\r\n          time: 3000,\r\n          shade: false,\r\n          resize: false,\r\n          fixed: false,\r\n          maxWidth: 260,\r\n          removeFocus: false,\r\n        },\r\n        options\r\n      )\r\n    );\r\n  },\r\n  close(index, callback) {\r\n    new Closer(index, callback).execute();\r\n  },\r\n  closeAll(type, callback) {\r\n    let that = this;\r\n\r\n    if (isFunction(type)) {\r\n      callback = type;\r\n      type = null;\r\n    }\r\n\r\n    let domsElem = $(`.${Constants.CLASSES.layuiLayer}`);\r\n\r\n    $.each(domsElem, function (_index) {\r\n      let othis = $(this);\r\n      let is = type ? othis.attr(\"type\") === type : 1;\r\n      is &&\r\n        that.close(\r\n          othis.attr(\"times\"),\r\n          _index === domsElem.length - 1 ? callback : null\r\n        );\r\n      is = null;\r\n    });\r\n    if (domsElem.length === 0) isFunction(callback) && callback();\r\n  },\r\n  closeLast(type, callback) {\r\n    const layerIndexList = [];\r\n    const isArrayType = Array.isArray(type);\r\n    const selector = isString(type)\r\n      ? `.layui-layer-${type}`\r\n      : `.${Constants.CLASSES.layuiLayer}`;\r\n\r\n    $(selector).each(function (i, el) {\r\n      const layero = $(el);\r\n      const isHidden = layero.css(\"display\") === \"none\";\r\n      const isInvalidType = isArrayType && !type.includes(layero.attr(\"type\"));\r\n\r\n      if (isHidden || isInvalidType) {\r\n        return true; // 跳过当前循环\r\n      }\r\n\r\n      const layerIndex = Number(layero.attr(\"times\"));\r\n      layerIndexList.push(layerIndex);\r\n    });\r\n\r\n    if (layerIndexList.length > 0) {\r\n      const layerIndexMax = Math.max.apply(null, layerIndexList);\r\n      this.close(layerIndexMax, callback);\r\n    }\r\n  },\r\n  // 获取子 iframe 的 DOM\r\n  getChildFrame(selector, index) {\r\n    index = index || $(`.${Constants.CLASSES.layerIFrame}`).attr(\"times\");\r\n    return Util.getLayeroByIndex(index)\r\n      .find(\"iframe\")\r\n      .contents()\r\n      .find(selector);\r\n  },\r\n\r\n  // 得到当前 iframe 层的索引，子 iframe 时使用\r\n  getFrameIndex(name) {\r\n    return $(\"#\" + name)\r\n      .parents(`.${Constants.CLASSES.layerIFrame}`)\r\n      .attr(\"times\");\r\n  },\r\n\r\n  // iframe 层自适应宽高\r\n  iframeAuto(index) {\r\n    if (!index) return;\r\n    let heg = this.getChildFrame(\"html\", index).outerHeight();\r\n\r\n    let layero = Util.getLayeroByIndex(index);\r\n\r\n    // .layui-layer-title\r\n    let titHeight =\r\n      layero.find(`.${Constants.CLASSES.layerTitle}`).outerHeight() || 0;\r\n    // layui-layer-btn\r\n    let btnHeight =\r\n      layero.find(`.${Constants.CLASSES.layerBtn}`).outerHeight() || 0;\r\n    layero.css({ height: heg + titHeight + btnHeight });\r\n    layero.find(\"iframe\").css({ height: heg });\r\n  },\r\n\r\n  // 重置 iframe url\r\n  iframeSrc(index, url) {\r\n    Util.getLayeroByIndex(index).find(\"iframe\").attr(\"src\", url);\r\n  },\r\n\r\n  // 最小化\r\n  min(index, options) {\r\n    let layero = Util.getLayeroByIndex(index);\r\n    let maxminStatus = layero.data(Constants.DATAKEY.MAX_MIN_STATUS);\r\n\r\n    if (maxminStatus === \"min\") return; // 当前的状态是否已经是最小化\r\n    if (maxminStatus === \"max\") this.restore(index); // 若当前为最大化，则先还原后再最小化\r\n\r\n    layero.data(Constants.DATAKEY.MAX_MIN_STATUS, \"min\");\r\n    options = options || layero.data(\"config\") || {};\r\n\r\n    let shadeo = $(`#${Constants.CLASSES.shade}${index}`);\r\n    let elemMin = layero.find(\".layui-layer-min\");\r\n\r\n    //.layui-layer-title\r\n    let titHeight =\r\n      layero.find(`.${Constants.CLASSES.layerTitle}`).outerHeight() || 0;\r\n    let minLeft = layero.attr(\"minLeft\"); // 最小化时的横坐标\r\n\r\n    // 是否已经赋值过最小化坐标\r\n    let hasMinLeft = isString(minLeft);\r\n\r\n    let left = hasMinLeft ? minLeft : 181 * shared.minStackIndex + \"px\";\r\n    let position = layero.css(\"position\");\r\n    let minWidth = 180; // 最小化时的宽度\r\n    let settings = {\r\n      width: minWidth,\r\n      height: titHeight,\r\n      position: \"fixed\",\r\n      overflow: \"hidden\",\r\n    };\r\n\r\n    Util.record(layero); // 记录当前尺寸、坐标，用于还原\r\n\r\n    // 简易最小化补位\r\n    if (shared.minStackArr.length > 0) {\r\n      left = shared.minStackArr[0];\r\n      shared.minStackArr.shift();\r\n    }\r\n\r\n    // left 是否超出边界\r\n    if (parseFloat(left) + minWidth > $(window).width()) {\r\n      left =\r\n        $(window).width() -\r\n        minWidth -\r\n        (function () {\r\n          shared.minStackArr.edgeIndex = shared.minStackArr.edgeIndex || 0;\r\n          return (shared.minStackArr.edgeIndex += 3);\r\n        })();\r\n      if (left < 0) left = 0;\r\n    }\r\n\r\n    // 是否堆叠在左下角\r\n    if (options.minStack) {\r\n      settings.left = left;\r\n      settings.top = $(window).height() - titHeight;\r\n      hasMinLeft || shared.minStackIndex++; // 若未赋值过最小化坐标，则最小化操作索引自增\r\n      layero.attr(\"minLeft\", left);\r\n    }\r\n\r\n    layero.attr(\"position\", position);\r\n    this.style(index, settings, true);\r\n\r\n    elemMin.hide();\r\n    // layui-layer-iframe\r\n    layero.attr(\"type\") === \"page\" &&\r\n      layero.find(Constants.CLASSES.layerIFrame).hide();\r\n    Util.restScrollbar(index);\r\n\r\n    // 隐藏遮罩\r\n    shadeo.hide();\r\n  },\r\n\r\n  // 还原\r\n  restore(index) {\r\n    let layero = Util.getLayeroByIndex(index);\r\n    let shadeo = Util.getShadeoByIndex(index);\r\n    let contentElem = layero.find(`.${Constants.CLASSES.layerContent}`);\r\n    let area = layero.attr(\"area\").split(\",\");\r\n    let type = layero.attr(\"type\");\r\n    let options = layero.data(\"config\") || {};\r\n    let contentRecordHeight = contentElem.data(\r\n      Constants.DATAKEY.RECORD_HEIGHT_KEY\r\n    );\r\n\r\n    layero.removeData(Constants.DATAKEY.MAX_MIN_STATUS); // 移除最大最小状态\r\n\r\n    // 恢复原来尺寸\r\n    this.style(\r\n      index,\r\n      {\r\n        width: area[0], // 数值或百分比\r\n        height: area[1],\r\n        top: parseFloat(area[2]),\r\n        left: parseFloat(area[3]),\r\n        position: layero.attr(\"position\"),\r\n        overflow: \"visible\",\r\n      },\r\n      true\r\n    );\r\n\r\n    layero.find(\".layui-layer-max\").removeClass(\"layui-layer-maxmin\");\r\n    layero.find(\".layui-layer-min\").show();\r\n    //layui-layer-iframe\r\n    type === \"page\" && layero.find(Constants.CLASSES.layerIFrame).show();\r\n\r\n    // 恢复页面滚动条弹层打开时的状态\r\n    options.scrollbar ? Util.restScrollbar(index) : Util.setScrollbar(index);\r\n\r\n    // #1604\r\n    if (contentRecordHeight !== undefined) {\r\n      contentElem.removeData(Constants.DATAKEY.RECORD_HEIGHT_KEY);\r\n\r\n      let contentRecordHeightElem =\r\n        type === MAP.TYPE_NAME[MAP.TYPE.IFRAME]\r\n          ? contentElem.children(\"iframe\")\r\n          : contentElem;\r\n      contentRecordHeightElem.css({ height: contentRecordHeight });\r\n    }\r\n\r\n    // 恢复遮罩\r\n    shadeo.show();\r\n    // shared.events.resize[index](); // ?\r\n  },\r\n\r\n  // 全屏（最大化）\r\n  full(index) {\r\n    let layero = Util.getLayeroByIndex(index);\r\n    let maxminStatus = layero.data(Constants.DATAKEY.MAX_MIN_STATUS);\r\n\r\n    if (maxminStatus === \"max\") return; // 检查当前的状态是否已经是最大化\r\n    if (maxminStatus === \"min\") this.restore(index); // 若当前为最小化，则先还原后再最大化\r\n\r\n    layero.data(Constants.DATAKEY.MAX_MIN_STATUS, \"max\");\r\n    Util.record(layero); // 记录当前尺寸、坐标\r\n\r\n    if (!$(\"html\").attr(\"layer-full\")) {\r\n      Util.setScrollbar(index);\r\n    }\r\n\r\n    setTimeout(() => {\r\n      let isfix = layero.css(\"position\") === \"fixed\";\r\n      this.style(\r\n        index,\r\n        {\r\n          top: isfix ? 0 : $(window).scrollTop(),\r\n          left: isfix ? 0 : $(window).scrollLeft(),\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n        },\r\n        true\r\n      );\r\n      layero.find(\".layui-layer-min\").hide();\r\n    }, 100);\r\n  },\r\n\r\n  // 仿系统 prompt\r\n  prompt(options, yes) {\r\n    let style = \"\",\r\n      placeholder = \"\";\r\n    options = options || {};\r\n\r\n    if (isFunction(options)) yes = options;\r\n\r\n    if (options.area) {\r\n      let area = options.area;\r\n      style = 'style=\"width: ' + area[0] + \"; height: \" + area[1] + ';\"';\r\n      delete options.area;\r\n    }\r\n    if (options.placeholder) {\r\n      placeholder = ' placeholder=\"' + options.placeholder + '\"';\r\n    }\r\n    let prompt,\r\n      content =\r\n        options.formType == 2\r\n          ? '<textarea class=\"layui-layer-input\"' +\r\n            style +\r\n            placeholder +\r\n            \"></textarea>\"\r\n          : (function () {\r\n              return (\r\n                '<input type=\"' +\r\n                (options.formType == 1 ? \"password\" : \"text\") +\r\n                '\" class=\"layui-layer-input\"' +\r\n                placeholder +\r\n                \">\"\r\n              );\r\n            })();\r\n\r\n    let success = options.success;\r\n    delete options.success;\r\n\r\n    return this.open(\r\n      $.extend(\r\n        {\r\n          type: 1,\r\n          btn: [\"确定\", \"取消\"],\r\n          content: content,\r\n          skin: \"layui-layer-prompt\" + Util.skin(\"prompt\", shared.config),\r\n          maxWidth: $(window).width(),\r\n          success(layero) {\r\n            prompt = layero.find(\".layui-layer-input\");\r\n            prompt.val(options.value || \"\").focus();\r\n            isFunction(success) && success(layero);\r\n          },\r\n\r\n          resize: false,\r\n          yes(index) {\r\n            let value = prompt.val();\r\n            if (value.length > (options.maxlength || 500)) {\r\n              this.tips(\r\n                \"最多输入\" + (options.maxlength || 500) + \"个字符\",\r\n                prompt,\r\n                { tips: 1 }\r\n              );\r\n            } else {\r\n              yes && yes(value, index, prompt);\r\n            }\r\n          },\r\n        },\r\n        options\r\n      )\r\n    );\r\n  },\r\n\r\n  // 窗口置顶\r\n  setTop(layero) {\r\n    shared.zIndex = parseInt(layero[0].style.zIndex);\r\n    layero.on(\"mousedown\", function () {\r\n      shared.zIndex++;\r\n      layero.css(\"z-index\", shared.zIndex + 1);\r\n    });\r\n    return shared.zIndex;\r\n  },\r\n\r\n  // tab 层\r\n  tab(options) {\r\n    options = options || {};\r\n\r\n    let tab = options.tab || {};\r\n    let THIS = \"layui-this\";\r\n    let success = options.success;\r\n\r\n    delete options.success;\r\n\r\n    return this.open(\r\n      $.extend(\r\n        {\r\n          type: 1,\r\n          skin: \"layui-layer-tab\" + Util.skin(\"tab\", shared.config),\r\n          resize: false,\r\n          title: (function () {\r\n            let len = tab.length,\r\n              ii = 1,\r\n              str = \"\";\r\n            if (len > 0) {\r\n              str = '<span class=\"' + THIS + '\">' + tab[0].title + \"</span>\";\r\n              for (; ii < len; ii++) {\r\n                str += \"<span>\" + tab[ii].title + \"</span>\";\r\n              }\r\n            }\r\n            return str;\r\n          })(),\r\n          content:\r\n            '<ul class=\"layui-layer-tabmain\">' +\r\n            (function () {\r\n              let len = tab.length,\r\n                ii = 1,\r\n                str = \"\";\r\n              if (len > 0) {\r\n                str =\r\n                  '<li class=\"layui-layer-tabli ' +\r\n                  THIS +\r\n                  '\">' +\r\n                  (tab[0].content || \"no content\") +\r\n                  \"</li>\";\r\n                for (; ii < len; ii++) {\r\n                  str +=\r\n                    '<li class=\"layui-layer-tabli\">' +\r\n                    (tab[ii].content || \"no  content\") +\r\n                    \"</li>\";\r\n                }\r\n              }\r\n              return str;\r\n            })() +\r\n            \"</ul>\",\r\n          success(layero) {\r\n            let btn = layero.find(\".layui-layer-title\").children();\r\n            let main = layero.find(\".layui-layer-tabmain\").children();\r\n            btn.on(\"mousedown\", function (e) {\r\n              e.stopPropagation ? e.stopPropagation() : (e.cancelBubble = true);\r\n              let othis = $(this),\r\n                index = othis.index();\r\n              othis.addClass(THIS).siblings().removeClass(THIS);\r\n              main.eq(index).show().siblings().hide();\r\n\r\n              isFunction(options.change) && options.change(index);\r\n            });\r\n\r\n            isFunction(success) && success(layero);\r\n          },\r\n        },\r\n        options\r\n      )\r\n    );\r\n  },\r\n\r\n  // 图片层\r\n  photos(options, loop, key) {\r\n    let _that = this;\r\n\r\n    let dict = {};\r\n\r\n    // 默认属性\r\n    options = $.extend(\r\n      true,\r\n      {\r\n        toolbar: true,\r\n        footer: true,\r\n      },\r\n      options\r\n    );\r\n\r\n    if (!options.photos) return;\r\n\r\n    // 若 photos 并非选择器或 jQuery 对象，则为普通 object\r\n    let isObject = !(isString(options.photos) || options.photos instanceof $);\r\n\r\n    let photos = isObject ? options.photos : {};\r\n    let data = photos.data || [];\r\n    let start = photos.start || 0;\r\n    let success = options.success;\r\n\r\n    dict.imgIndex = (start | 0) + 1;\r\n    options.img = options.img || \"img\";\r\n    delete options.success;\r\n\r\n    // 若 options.photos 不是一个对象\r\n    if (!isObject) {\r\n      // 页面直接获取\r\n      let parent = $(options.photos),\r\n        pushData = function () {\r\n          data = [];\r\n          parent.find(options.img).each(function (index) {\r\n            let othis = $(this);\r\n            othis.attr(\"layer-index\", index);\r\n            data.push({\r\n              alt: othis.attr(\"alt\"),\r\n              pid: othis.attr(\"layer-pid\"),\r\n              src:\r\n                othis.attr(\"lay-src\") ||\r\n                othis.attr(\"layer-src\") ||\r\n                othis.attr(\"src\"),\r\n              thumb: othis.attr(\"src\"),\r\n            });\r\n          });\r\n        };\r\n\r\n      pushData();\r\n\r\n      if (data.length === 0) return;\r\n\r\n      loop ||\r\n        parent.on(\"click\", options.img, function () {\r\n          pushData();\r\n          let othis = $(this),\r\n            index = othis.attr(\"layer-index\");\r\n          this.photos(\r\n            $.extend(options, {\r\n              photos: {\r\n                start: index,\r\n                data: data,\r\n                tab: options.tab,\r\n              },\r\n              full: options.full,\r\n            }),\r\n            true\r\n          );\r\n        });\r\n\r\n      // 不直接弹出\r\n      if (!loop) return;\r\n    } else if (data.length === 0) {\r\n      return this.msg(\"没有图片\");\r\n    }\r\n\r\n    // 上一张\r\n    dict.imgprev = function (key) {\r\n      dict.imgIndex--;\r\n      if (dict.imgIndex < 1) {\r\n        dict.imgIndex = data.length;\r\n      }\r\n      dict.tabimg(key);\r\n    };\r\n\r\n    // 下一张\r\n    dict.imgnext = function (key, errorMsg) {\r\n      dict.imgIndex++;\r\n      if (dict.imgIndex > data.length) {\r\n        dict.imgIndex = 1;\r\n        if (errorMsg) {\r\n          return;\r\n        }\r\n      }\r\n      dict.tabimg(key);\r\n    };\r\n\r\n    // 方向键\r\n    dict.keyup = function (event) {\r\n      if (!dict.end) {\r\n        let code = event.keyCode;\r\n        event.preventDefault();\r\n        if (code === 37) {\r\n          dict.imgprev(true);\r\n        } else if (code === 39) {\r\n          dict.imgnext(true);\r\n        } else if (code === 27) {\r\n          this.close(dict.index);\r\n        }\r\n      }\r\n    };\r\n\r\n    // 切换\r\n    dict.tabimg = function (key) {\r\n      if (data.length <= 1) return;\r\n      photos.start = dict.imgIndex - 1;\r\n      this.close(dict.index);\r\n      return this.photos(options, true, key);\r\n    };\r\n\r\n    dict.isNumber = function (n) {\r\n      return isNumber(n) && !isNaN(n);\r\n    };\r\n\r\n    dict.image = {};\r\n\r\n    dict.getTransform = function (opts) {\r\n      let transforms = [];\r\n      let rotate = opts.rotate;\r\n      let scaleX = opts.scaleX;\r\n      let scale = opts.scale;\r\n\r\n      if (dict.isNumber(rotate) && rotate !== 0) {\r\n        transforms.push(\"rotate(\" + rotate + \"deg)\");\r\n      }\r\n\r\n      if (dict.isNumber(scaleX) && scaleX !== 1) {\r\n        transforms.push(\"scaleX(\" + scaleX + \")\");\r\n      }\r\n\r\n      if (dict.isNumber(scale)) {\r\n        transforms.push(\"scale(\" + scale + \")\");\r\n      }\r\n\r\n      return transforms.length ? transforms.join(\" \") : \"none\";\r\n    };\r\n\r\n    // 一些动作\r\n    dict.event = function (layero, index, that) {\r\n      // 上一张\r\n      dict.main.find(\".layui-layer-photos-prev\").on(\"click\", function (event) {\r\n        event.preventDefault();\r\n        dict.imgprev(true);\r\n      });\r\n\r\n      // 下一张\r\n      dict.main.find(\".layui-layer-photos-next\").on(\"click\", function (event) {\r\n        event.preventDefault();\r\n        dict.imgnext(true);\r\n      });\r\n\r\n      $(document).on(\"keyup\", dict.keyup);\r\n\r\n      // 头部工具栏事件\r\n      layero.off(\"click\").on(\"click\", \"*[toolbar-event]\", function () {\r\n        let othis = $(this);\r\n        let event = othis.attr(\"toolbar-event\");\r\n        switch (event) {\r\n          case \"rotate\":\r\n            dict.image.rotate =\r\n              ((dict.image.rotate || 0) + Number(othis.attr(\"data-option\"))) %\r\n              360;\r\n            dict.imgElem.css({\r\n              transform: dict.getTransform(dict.image),\r\n            });\r\n            break;\r\n          case \"scalex\":\r\n            dict.image.scaleX = dict.image.scaleX === -1 ? 1 : -1;\r\n            dict.imgElem.css({\r\n              transform: dict.getTransform(dict.image),\r\n            });\r\n            break;\r\n          case \"zoom\":\r\n            let ratio = Number(othis.attr(\"data-option\"));\r\n            dict.image.scale = (dict.image.scale || 1) + ratio;\r\n            // 缩小状态最小值\r\n            if (ratio < 0 && dict.image.scale < 0 - ratio) {\r\n              dict.image.scale = 0 - ratio;\r\n            }\r\n            dict.imgElem.css({\r\n              transform: dict.getTransform(dict.image),\r\n            });\r\n            break;\r\n          case \"reset\":\r\n            dict.image.scaleX = 1;\r\n            dict.image.scale = 1;\r\n            dict.image.rotate = 0;\r\n            dict.imgElem.css({\r\n              transform: \"none\",\r\n            });\r\n            break;\r\n          case \"close\":\r\n            _that.close(index);\r\n            break;\r\n        }\r\n        that.offset();\r\n        that.auto(index);\r\n      });\r\n\r\n      // 鼠标滚轮缩放图片事件\r\n      dict.main.on(\"mousewheel DOMMouseScroll\", function (e) {\r\n        let delta = e.originalEvent.wheelDelta || -e.originalEvent.detail;\r\n        let zoomElem = dict.main.find('[toolbar-event=\"zoom\"]');\r\n        if (delta > 0) {\r\n          zoomElem.eq(0).trigger(\"click\");\r\n        } else {\r\n          zoomElem.eq(1).trigger(\"click\");\r\n        }\r\n        e.preventDefault();\r\n      });\r\n    };\r\n\r\n    // 图片预加载\r\n    function loadImage(url, callback, error) {\r\n      let img = new Image();\r\n      img.src = url;\r\n      if (img.complete) {\r\n        return callback(img);\r\n      }\r\n      img.onload = function () {\r\n        img.onload = null;\r\n        callback(img);\r\n      };\r\n      img.onerror = function (e) {\r\n        img.onerror = null;\r\n        error(e);\r\n      };\r\n    }\r\n\r\n    dict.loadi = this.load(1, {\r\n      shade: \"shade\" in options ? false : [0.9, undefined, \"unset\"],\r\n      scrollbar: false,\r\n    });\r\n\r\n    loadImage(\r\n      data[start].src,\r\n      function (img) {\r\n        _that.close(dict.loadi);\r\n\r\n        let alt = data[start].alt || \"\";\r\n\r\n        // 切换图片时不出现动画\r\n        if (key) options.anim = -1;\r\n\r\n        // 弹出图片层\r\n        dict.index = _that.open(\r\n          $.extend(\r\n            {\r\n              type: 1,\r\n              id: \"layui-layer-photos\",\r\n              area: (function () {\r\n                let imgarea = [img.width, img.height];\r\n                let winarea = [\r\n                  $(window).width() - 100,\r\n                  $(window).height() - 100,\r\n                ];\r\n\r\n                // 若实际图片的宽或者高比 屏幕大（那么进行缩放）\r\n                if (\r\n                  !options.full &&\r\n                  (imgarea[0] > winarea[0] || imgarea[1] > winarea[1])\r\n                ) {\r\n                  let wh = [imgarea[0] / winarea[0], imgarea[1] / winarea[1]]; // 取宽度缩放比例、高度缩放比例\r\n                  if (wh[0] > wh[1]) {\r\n                    // 取缩放比例最大的进行缩放\r\n                    imgarea[0] = imgarea[0] / wh[0];\r\n                    imgarea[1] = imgarea[1] / wh[0];\r\n                  } else if (wh[0] < wh[1]) {\r\n                    imgarea[0] = imgarea[0] / wh[1];\r\n                    imgarea[1] = imgarea[1] / wh[1];\r\n                  }\r\n                }\r\n\r\n                return [imgarea[0] + \"px\", imgarea[1] + \"px\"];\r\n              })(),\r\n              title: false,\r\n              shade: [0.9, undefined, \"unset\"],\r\n              shadeClose: true,\r\n              closeBtn: false,\r\n              move: \".layer-layer-photos-main img\",\r\n              moveType: 1,\r\n              scrollbar: false,\r\n              moveOut: true,\r\n              anim: 5,\r\n              isOutAnim: false,\r\n              skin: \"layui-layer-photos\" + Util.skin(\"photos\", shared.config),\r\n              content:\r\n                '<div class=\"layer-layer-photos-main\">' +\r\n                '<img src=\"' +\r\n                data[start].src +\r\n                '\" alt=\"' +\r\n                alt +\r\n                '\" layer-pid=\"' +\r\n                (data[start].pid || \"\") +\r\n                '\">' +\r\n                (function () {\r\n                  let arr = ['<div class=\"layui-layer-photos-pointer\">'];\r\n\r\n                  // 左右箭头翻页\r\n                  if (data.length > 1) {\r\n                    arr.push(\r\n                      [\r\n                        '<div class=\"layer-layer-photos-page\">',\r\n                        '<span class=\"layui-icon layui-icon-left layui-layer-photos-prev\"></span>',\r\n                        '<span class=\"layui-icon layui-icon-right layui-layer-photos-next\"></span>',\r\n                        \"</div>\",\r\n                      ].join(\"\")\r\n                    );\r\n                  }\r\n\r\n                  // 头部工具栏\r\n                  if (options.toolbar) {\r\n                    arr.push(\r\n                      [\r\n                        '<div class=\"layui-layer-photos-toolbar layui-layer-photos-header\">',\r\n                        '<span toolbar-event=\"rotate\" data-option=\"90\" title=\"旋转\"><i class=\"layui-icon layui-icon-refresh\"></i></span>',\r\n                        '<span toolbar-event=\"scalex\" title=\"变换\"><i class=\"layui-icon layui-icon-slider\"></i></span>',\r\n                        '<span toolbar-event=\"zoom\" data-option=\"0.1\" title=\"放大\"><i class=\"layui-icon layui-icon-add-circle\"></i></span>',\r\n                        '<span toolbar-event=\"zoom\" data-option=\"-0.1\" title=\"缩小\"><i class=\"layui-icon layui-icon-reduce-circle\"></i></span>',\r\n                        '<span toolbar-event=\"reset\" title=\"还原\"><i class=\"layui-icon layui-icon-refresh-1\"></i></span>',\r\n                        '<span toolbar-event=\"close\" title=\"关闭\"><i class=\"layui-icon layui-icon-close\"></i></span>',\r\n                        \"</div>\",\r\n                      ].join(\"\")\r\n                    );\r\n                  }\r\n\r\n                  // 底部栏\r\n                  if (options.footer) {\r\n                    arr.push(\r\n                      [\r\n                        '<div class=\"layui-layer-photos-toolbar layui-layer-photos-footer\">',\r\n                        \"<h3>\" + alt + \"</h3>\",\r\n                        \"<em>\" + dict.imgIndex + \" / \" + data.length + \"</em>\",\r\n                        '<a href=\"' +\r\n                          data[start].src +\r\n                          '\" target=\"_blank\">查看原图</a>',\r\n                        \"</div>\",\r\n                      ].join(\"\")\r\n                    );\r\n                  }\r\n\r\n                  arr.push(\"</div>\");\r\n                  return arr.join(\"\");\r\n                })() +\r\n                \"</div>\",\r\n              success(layero, index, that) {\r\n                dict.main = layero.find(\".layer-layer-photos-main\");\r\n                dict.footer = layero.find(\".layui-layer-photos-footer\");\r\n                dict.imgElem = dict.main.children(\"img\");\r\n                dict.event(layero, index, that);\r\n                options.tab && options.tab(data[start], layero);\r\n                isFunction(success) && success(layero);\r\n              },\r\n              end() {\r\n                dict.end = true;\r\n                $(document).off(\"keyup\", dict.keyup);\r\n              },\r\n            },\r\n            options\r\n          )\r\n        );\r\n      },\r\n      function () {\r\n        this.close(dict.loadi);\r\n        this.msg(\"当前图片地址异常，<br>是否继续查看下一张？\", {\r\n          time: 30000,\r\n          btn: [\"下一张\", \"不看了\"],\r\n          yes() {\r\n            data.length > 1 && dict.imgnext(true, true);\r\n          },\r\n        });\r\n      }\r\n    );\r\n  },\r\n};\r\n"],"names":["faceTips","faceSuccess","faceError","faceQuestion","faceLock","faceCry","faceSmile","layuiLayer","layerTitle","layerMain","layerIFrame","layerContent","layerBtn","layerClose","layerAnim","layerAnim0","layerAnim1","layerAnim2","layerAnim3","layerAnim4","layerAnim5","layerAnim6","animSlideDown","animSlideLeft","animSlideUp","animSlideRight","animSlideDownOut","animSlideLeftOut","animSlideUpOut","animSlideRightOut","animClose","shade","move","layerWrap","layerBorder","layerPadding","layerLoading","layuiAnim","layuiAnimRotate","layuiAnimLoop","layerTipsG","layerTipsB","layerTipsT","layerTipsL","layerTipsR","layerResize","iconLoading","iconLoading1","iconLoading2","layerMin","layerMax","layerMaxMin","SHADE_KEY","RECORD_HEIGHT_KEY","MAX_MIN_STATUS","type","fixed","Classes","title","offset","area","closeBtn","icon","time","zIndex","maxWidth","anim","isOutAnim","minStack","moveType","resize","scrollbar","tips","iframe","mainWrap","content","tipsG","faceIcon","dialogLoadIcon","loadIcon","setWin","minBtn","maxBtn","btnWrap","btn","TYPE","DIALOG","PAGE","IFRAME","LOADING","TIPS","TYPE_NAME","FACE","SUCCESS","ERROR","QUESTION","LOCK","CRY","SMILE","NONE","LOADING_ICON","BALL_SPIN","BALL_CLIP_ROTATE_GRAY","BALL_CLIP_ROTATE_BLUE","TIPS_DIRECTION","TOP","RIGHT","BOTTOM","LEFT","VERSION","CLASSES","DATAKEY","DataKey","DEFAULTS","Defaults","HTML","Html","MAP","Map","getLayeroByIndex","index","$","Constants","getShadeoByIndex","getStyle","node","name","style","currentStyle","window","getComputedStyle","getPropertyValue","reselect","each","value","sthis","parents","attr","length","removeAttr","show","record","layero","console","error","contentElem","find","contentRecordHeightElem","children","width","height","position","top","left","parseFloat","css","addClass","data","setScrollbar","restScrollbar","$html","removeProperty","promiseLikeResolve","deferred","Deferred","then","resolve","reject","promise","skin","config","skinClass","sprintf","_str","args","flag","i","str","replace","arg","shared","removeFocus","end","beforeEnd","events","minStackIndex","minStackArr","Store","doms","slideDown","slideLeft","slideUp","slideRight","html","SHADE","MOVE","Class","setings","that","creat","extend","document","body","setTimeout","pt","prototype","vessel","conType","callback","times","titype","ismax","maxmin","titleHTML","id","face","additFaceClass","animClass","log","arr","push","join","button","len","className","btnAlign","setAnim","shift","one","removeClass","closest","options","elemShade","maxminStatus","layer","restore","hideOnClose","opacity","activeElement","blur","ie","closeAll","follow","tipsMore","moveElem","append","wrap","before","shadeo","Util","auto","transition","parseInt","getElementById","on","close","test","innerWidth","outerWidth","innerHeight","titHeight","outerHeight","btnHeight","setHeight","elem","maxHeight","offsetTop","offsetLeft","scrollTop","scrollLeft","layArea","goal","guide","remove","autoLeft","tipLeft","right","where","tipTop","Math","max","_DOC","DATA_NAME","resizeElem","e","othis","dict","clientX","clientY","eventMoveElem","preventDefault","eventResizeElem","docEvent","X","Y","stX","stY","moveOut","setRig","setBot","resizing","removeData","hide","moveEnd","btnLoading","btnElem","isLoading","loadingTpl","disabled","prepend","openLayer","executeSuccess","success","IE6","handleButtonEvents","handleCancel","shadeClose","handleMinimize","handleMaximize","proxy","btnAsync","handleAsyncButton","handleNormalButton","yes","btnCallback","loading","call","result","reason","undefined","cancel","min","maxButton","hasClass","full","setTop","setZindex","HTMLGenerator","constructor","getShadeHTML","shadeHTML","getContainerHTML","getTtitleHTML","#getMainWrapBeginHTML","borderClass","includes","layerType","isObject","titleType","Array","isArray","titleStyle","titleText","#getContentBeginHTML","paddingClass","loadingClass","#getIconHtml","#getContentHTML","isPageType","#getBottomBtnHTHML","btnAlignClass","#getCloseBtnHTML","closeButton","#getMinMaxBtnHTML","#getButtonHTML","buttonHtml","isString","forEach","btnLabel","#getFaceIcon","faceClassNameMap","faceClassName","#getLoadingIcon","loadingIconsMap","iconClass","TipsLocation","tipColor","layeroouterHeight","layeroOuterWidth","#updateArrow","arrowClass","T","R","B","L","borderPosition","Object","values","#autoAdjustLeft","setupArrowPosition","arrowPositions","overflowAdjustment","windowHeight","windowWidth","triangle","overflowAdjustments","updatePosition","EventBinder","container","bind","winClose","winMin","fullscreenToggle","btnIndex","defaultClose","yesCallback","$btnElem","cancelCallback","Container","$moveEl","initContainer","initAreaOption","adjustLayerSettings","htmlGenerator","shadeoHandle","movezIndex","isPercentage","some","animationClassMap","animationClass","animationFullClass","layeroInnerHeight","selector","elempaddingTop","typeMap","event","$this","tipsLocation","Closer","getLayero","execute","isFunction","executeClose","closeShade","removeLayer","closeAnim","closeAnimfullClass","unwrap","contentWindow","write","removeChild","innerHTML","off","v","open","alert","confirm","btn2","msg","rskin","limit","isNumber","$title","Layer","load","domsElem","_index","is","closeLast","layerIndexList","isArrayType","el","isHidden","isInvalidType","layerIndex","Number","layerIndexMax","apply","getChildFrame","contents","getFrameIndex","iframeAuto","heg","iframeSrc","url","elemMin","minLeft","hasMinLeft","minWidth","settings","overflow","edgeIndex","split","contentRecordHeight","isfix","prompt","placeholder","formType","val","focus","maxlength","tab","THIS","ii","main","stopPropagation","cancelBubble","siblings","eq","change","photos","loop","key","_that","toolbar","footer","start","imgIndex","img","parent","pushData","alt","pid","src","thumb","imgprev","tabimg","imgnext","errorMsg","keyup","code","keyCode","n","isNaN","image","getTransform","opts","transforms","rotate","scaleX","scale","imgElem","transform","ratio","delta","originalEvent","wheelDelta","detail","zoomElem","trigger","loadImage","Image","complete","onload","onerror","loadi","imgarea","winarea","wh"],"mappings":"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","x_google_ignoreList":[9,10,11,12,13,14,15]}